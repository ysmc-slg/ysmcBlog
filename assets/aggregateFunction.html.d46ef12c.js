import{e as n}from"./app.270f9b25.js";import{_ as s}from"./plugin-vue_export-helper.5a098b48.js";const a={},p=n(`<h1 id="\u805A\u5408\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u805A\u5408\u51FD\u6570" aria-hidden="true">#</a> \u805A\u5408\u51FD\u6570</h1><p>\u805A\u5408\u51FD\u6570\u4F5C\u7528\u4E8E\u4E00\u7EC4\u6570\u636E\uFF0C\u5E76\u5BF9\u4E00\u7EC4\u6570\u636E\u8FD4\u56DE\u4E00\u4E2A\u503C\u3002</p><p><img src="http://img.zxqs.top/20220927164608.png" alt="image-20220927164559691"></p><h2 id="avg-\u548C-sum-\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#avg-\u548C-sum-\u51FD\u6570" aria-hidden="true">#</a> AVG \u548C SUM \u51FD\u6570</h2><p>\u6CE8\u610F\uFF1AAVG/SUM \u53EA\u9002\u7528\u4E8E\u6570\u503C\u7C7B\u578B\u7684\u5B57\u6BB5</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">107</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">-- \u5982\u4E0B\u7684\u64CD\u4F5C\u6CA1\u6709\u610F\u4E49</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>hire_date<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><h2 id="min-\u548C-max-\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#min-\u548C-max-\u51FD\u6570" aria-hidden="true">#</a> MIN \u548C MAX \u51FD\u6570</h2><p>MAX / MIN :\u9002\u7528\u4E8E\u6570\u503C\u7C7B\u578B\u3001\u5B57\u7B26\u4E32\u7C7B\u578B\u3001\u65E5\u671F\u65F6\u95F4\u7C7B\u578B\u7684\u5B57\u6BB5\uFF08\u6216\u53D8\u91CF\uFF09</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>last_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>hire_date<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>hire_date<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><h2 id="count-\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#count-\u51FD\u6570" aria-hidden="true">#</a> COUNT() \u51FD\u6570</h2><p>\u8BA1\u7B97\u6307\u5B9A\u5B57\u6BB5\u5728\u67E5\u8BE2\u7ED3\u6784\u4E2D\u51FA\u73B0\u7684\u4E2A\u6570\uFF08\u4E0D\u5305\u542BNULL\u503C\u7684\uFF09</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>employee_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees <span class="token punctuation">;</span>
</code></pre></div><h2 id="group-by-\u5206\u7EC4\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#group-by-\u5206\u7EC4\u51FD\u6570" aria-hidden="true">#</a> GROUP BY() \u5206\u7EC4\u51FD\u6570</h2><p>\u8BED\u6CD5\uFF1A</p><div class="language-text ext-text"><pre class="language-text"><code>SELECT column, group_function(column) 
FROM table 
[WHERE condition] 
[GROUP BY group_by_expression] 
[ORDER BY column];
</code></pre></div><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> 
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
</code></pre></div><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>  department_id<span class="token punctuation">,</span>job_id<span class="token punctuation">;</span>
</code></pre></div><div class="custom-container tip"><p class="custom-container-title">\u6CE8\u610F</p><ol><li><p>where \u4E00\u5B9A\u8981\u653E\u5728 from \u540E\u9762\u3002</p></li><li><p>select \u540E\u9762\u51FA\u73B0\u7684 <code>\u975E\u805A\u5408\u51FD\u6570</code> \u7684\u5B57\u6BB5\uFF0C\u5FC5\u987B\u58F0\u660E\u5728 GROUP BY \u4E2D\u3002GROUP BY \u4E2D\u58F0\u660E\u7684\u5B57\u6BB5\u53EF\u4EE5\u4E0D\u51FA\u73B0\u5728SELECT\u4E2D\u3002</p></li></ol></div><p><code>WITH ROLLUP</code>\uFF1A\u5728\u67E5\u8BE2\u51FA\u7684\u5206\u7EC4\u8BB0\u5F55\u4E4B\u540E\u589E\u52A0\u4E00\u6761\u8BB0\u5F55\uFF0C\u8BE5\u8BB0\u5F55\u8BA1\u7B97\u67E5\u8BE2\u51FA\u7684\u6240\u6709\u8BB0\u5F55\u7684\u603B\u548C\uFF0C\u5373\u7EDF\u8BA1\u8BB0\u5F55\u6570\u91CF</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">COALESCE</span><span class="token punctuation">(</span>department_id<span class="token punctuation">,</span><span class="token string">&#39;\u603B\u548C&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> sum
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> department_id <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id <span class="token keyword">WITH ROLLUP</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-container tip"><p class="custom-container-title">\u6CE8\u610F</p><p>\u5F53\u4F7F\u7528ROLLUP\u65F6\uFF0C\u4E0D\u80FD\u540C\u65F6\u4F7F\u7528ORDER BY\u5B50\u53E5\u8FDB\u884C\u7ED3\u679C\u6392\u5E8F\uFF0C\u5373ROLLUP\u548CORDER BY\u662F\u4E92\u76F8\u6392\u65A5\u7684\u3002</p></div><p><strong>HAVING</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
<span class="token keyword">HAVING</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10000</span><span class="token punctuation">;</span>
</code></pre></div><p>\u4F7F\u7528 <code>HAVING</code> \u6709\u51E0\u4E2A\u6CE8\u610F\u4E8B\u9879\uFF1A</p><ol><li>HAVING \u4E0D\u80FD\u5355\u72EC\u4F7F\u7528\uFF0C\u5FC5\u987B\u8981\u8DDF GROUP BY \u4E00\u8D77\u4F7F\u7528\u3002</li><li>\u5982\u679C\u8FC7\u6EE4\u6761\u4EF6\u9700\u8981\u805A\u5408\u51FD\u6570\uFF0C\u5FC5\u987B\u5C06\u8FC7\u6EE4\u6761\u4EF6\u5199\u5728 <code>HAVING</code> \u540E\u9762\uFF0C\u4E0D\u80FD\u5199\u5728 where \u540E\u9762\uFF0C\u5426\u5219\u62A5\u9519</li><li>HAVING \u5FC5\u987B\u58F0\u660E\u5728 GROUP BY \u7684\u540E\u9762\u3002</li></ol><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- \u9519\u8BEF\u7684\u5199\u6CD5\uFF1A</span>
<span class="token keyword">SELECT</span> department_id<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10000</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>
</code></pre></div><p><strong>WHERE \u548C HAVING \u7684\u5BF9\u6BD4</strong></p><ol><li>WHERE \u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u8868\u4E2D\u7684\u5B57\u6BB5\u4F5C\u4E3A\u7B5B\u9009\u6761\u4EF6\uFF0C\u4F46\u4E0D\u80FD\u4F7F\u7528\u5206\u7EC4\u4E2D\u7684\u8BA1\u7B97\u51FD\u6570\u4F5C\u4E3A\u7B5B\u9009\u6761\u4EF6\uFF1BHAVING \u5FC5\u987B\u8981\u4E0E GROUP BY \u914D\u5408\u4F7F\u7528\uFF0C\u53EF\u4EE5\u628A\u5206\u7EC4\u8BA1\u7B97\u7684\u51FD\u6570\u548C\u5206\u7EC4\u5B57\u6BB5\u4F5C\u4E3A\u7B5B\u9009\u6761\u4EF6\u3002</li><li>\u5982\u679C\u9700\u8981\u901A\u8FC7\u8FDE\u63A5\u4ECE\u5173\u8054\u8868\u4E2D\u83B7\u53D6\u9700\u8981\u7684\u6570\u636E\uFF0CWHERE \u662F\u5148\u7B5B\u9009\u540E\u8FDE\u63A5\uFF0C\u800C HAVING \u662F\u5148\u8FDE\u63A5\u540E\u7B5B\u9009\u3002</li><li>\u5982\u679C\u8FC7\u6EE4\u6761\u4EF6\u4E2D\u6CA1\u6709\u805A\u5408\u51FD\u6570\uFF1A\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0CWHERE\u7684\u6267\u884C\u6548\u7387\u8981\u9AD8\u4E8EHAVING</li></ol>`,28);function t(e,o){return p}var u=s(a,[["render",t]]);export{u as default};
