import{c as t,o as a,F as e,a as n,b as s}from"./app.19b4a03f.js";import{_ as o}from"./plugin-vue_export-helper.5a098b48.js";var c="/blogImg/springsecurity/1.png",l="/blogImg/springsecurity/2.png",u="/blogImg/springsecurity/3.png",i="/blogImg/springsecurity/4.png",p="/blogImg/springsecurity/5.png";const r={},k=n("h1",{id:"\u521D\u8BC6springsecurity",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u521D\u8BC6springsecurity","aria-hidden":"true"},"#"),s(" \u521D\u8BC6SpringSecurity")],-1),d=n("h2",{id:"spring-security-\u4ECB\u7ECD",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#spring-security-\u4ECB\u7ECD","aria-hidden":"true"},"#"),s(" Spring Security \u4ECB\u7ECD")],-1),m=n("p",null,[s("\u6574\u4F53\u4ECB\u7ECD\uFF0CSpring Security\u4E3A\u57FA\u4E8EJ2EE\u5F00\u53D1\u7684\u4F01\u4E1A\u5E94\u7528\u8F6F\u4EF6\u63D0\u4F9B\u4E86\u5168\u9762\u7684\u5B89\u5168\u670D\u52A1\uFF0C\u7279\u522B\u662F\u4F7F\u7528Spring\u5F00\u53D1\u7684\u4F01\u4E1A\u8F6F\u4EF6\u9879\u76EE\uFF0C\u5982\u679C\u4F60\u719F\u6089Spring\uFF0C\u5C24\u5176\u662FSpring\u7684\u4F9D\u8D56\u6CE8\u5165\u539F\u7406\uFF0C\u8FD9\u5C06\u5E2E\u52A9\u4F60\u66F4\u5FEB\u638C\u63E1Spring Security\uFF0C\u76EE\u524D\u4F7F\u7528Spring Security\u6709\u5F88\u591A\u539F\u56E0\uFF0C\u901A\u5E38\u56E0\u4E3A\u5728J2EE\u7684Servlet\u89C4\u8303\u548CEJB\u89C4\u8303\u4E2D\u627E\u4E0D\u5230\u5178\u578B\u5E94\u7528\u573A\u666F\u7684\u89E3\u51B3\u65B9\u6848\uFF0C\u63D0\u5230\u8FD9\u4E9B\u89C4\u8303\uFF0C\u7279\u522B\u8981\u6307\u51FA\u7684\u662F\u5B83\u4EEC\u4E0D\u80FD\u5728WAR\u6216EAR\u7EA7\u522B\u8FDB\u884C\u79FB\u690D\uFF0C\u8FD9\u6837\u5982\u679C\u4F60\u9700\u8981\u66F4\u6362\u670D\u52A1\u5668\u73AF\u5883\uFF0C\u5C31\u8981\u5728\u65B0\u7684\u76EE\u6807\u73AF\u5883\u4E2D\u8FDB\u884C\u5927\u91CF\u7684\u5DE5\u4F5C\uFF0C\u5BF9\u4F60\u7684\u5E94\u7528\u8FDB\u884C\u91CD\u65B0\u914D\u7F6E\u5B89\u5168\uFF0C\u4F7F\u7528Spring Security\u5C31\u89E3\u51B3\u4E86\u8FD9\u4E9B\u95EE\u9898\uFF0C\u4E5F\u4E3A\u4F60\u63D0\u4F9B\u4E86\u5F88\u591A\u5F88\u6709\u7528\u7684\u53EF\u5B9A\u5236\u7684\u5B89\u5168\u7279\u6027\u3002 \u200B Spring Security\u5305\u542B\u4E09\u4E2A\u4E3B\u8981\u7684\u7EC4\u4EF6\uFF1A"),n("code",null,"SecurityContext"),s("\u3001"),n("code",null,"AuthenticationManager"),s("\u3001"),n("code",null,"AccessDecisionManager"),s(".")],-1),g=n("p",null,[n("img",{src:c,alt:"\u7EC4\u4EF6"})],-1),y=n("h2",{id:"\u8BF7\u6C42\u62E6\u622A",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u8BF7\u6C42\u62E6\u622A","aria-hidden":"true"},"#"),s(" \u8BF7\u6C42\u62E6\u622A")],-1),h=n("p",null,[n("img",{src:l,alt:"\u7528\u6237\u8BF7\u6C42"})],-1),_=n("p",null,[n("img",{src:u,alt:"\u8FC7\u6EE4\u5668\u94FE"})],-1),S=n("p",null,[s("\u200BSpring Security\u63D0\u4F9B\u4E86\u5F88\u591A\u8FC7\u6EE4\u5668\uFF0C\u5176\u4E2D"),n("code",null,"SecurityContextPersistenceFilter"),s("\u3001"),n("code",null,"UsernamePasswordAuthenticationFilter"),s("\u3001"),n("code",null,"FilterSecurityInterceptor"),s("\u5206\u522B\u5BF9\u5E94"),n("code",null,"SecurityContext"),s("\u3001"),n("code",null,"AuthenticationManager"),s("\u3001"),n("code",null,"AccessDecisionManager"),s("\u7684\u5904\u7406\u3002")],-1),w=n("p",null,"\u4E00\u4E2A\u8BF7\u6C42\u8FDB\u5165\u7CFB\u7EDF\u7684\u6D41\u7A0B\u5982\u4E0B\u56FE\uFF1A",-1),f=n("p",null,[n("img",{src:i,alt:"\u8BF7\u6C42\u6D41\u7A0B"})],-1),x=n("p",null,"\u4E0B\u9762\u5206\u522B\u4ECB\u7ECD\u5404\u4E2A\u8FC7\u6EE4\u5668\u7684\u529F\u80FD\u3002",-1),A=n("table",null,[n("thead",null,[n("tr",null,[n("th",null,"\u8FC7\u6EE4\u5668"),n("th",null,"\u63CF\u8FF0")])]),n("tbody",null,[n("tr",null,[n("td",null,"WebAsyncManagerIntegrationFilter"),n("td",null,"\u8BBE\u7F6ESecurityContext\u5230\u5F02\u6B65\u7EBF\u7A0B\u4E2D\uFF0C\u7528\u4E8E\u83B7\u53D6\u7528\u6237\u4E0A\u4E0B\u6587\u4FE1\u606F")]),n("tr",null,[n("td",null,"SecurityContextPersistenceFilter"),n("td",null,[s("\u6574\u4E2A\u8BF7\u6C42\u8FC7\u7A0B\u4E2DSecurityContext\u7684\u521B\u5EFA\u548C\u6E05\u7406"),n("br"),s("1.\u672A\u767B\u5F55\uFF0CSecurityContext\u4E3Anull\uFF0C\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684ThreadLocal\u7684SecurityContext\u586B\u5145SecurityContextHolder."),n("br"),s("2.\u5DF2\u767B\u5F55\uFF0C\u4ECESecurityContextRepository\u83B7\u53D6\u7684SecurityContext\u5BF9\u8C61.\u4E24\u4E2A\u8BF7\u6C42\u5B8C\u6210\u540E\u90FD\u6E05\u7A7ASecurityContextHolder\uFF0C\u5E76\u66F4\u65B0SecurityContextRepository")])]),n("tr",null,[n("td",null,"HeaderWriterFilter"),n("td",null,"\u6DFB\u52A0\u5934\u4FE1\u606F\u5230\u54CD\u5E94\u5BF9\u8C61")]),n("tr",null,[n("td",null,"CsrfFilter"),n("td",null,"\u9632\u6B62csrf\u653B\u51FB\uFF08\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\uFF09\u7684\u8FC7\u6EE4\u5668")]),n("tr",null,[n("td",null,"LogoutFilter"),n("td",null,"\u767B\u51FA\u5904\u7406")]),n("tr",null,[n("td",null,"UsernamePasswordAuthenticationFilter"),n("td",null,"\u83B7\u53D6\u8868\u5355\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF0C\u5904\u7406\u57FA\u4E8E\u8868\u5355\u7684\u767B\u5F55\u8BF7\u6C42")]),n("tr",null,[n("td",null,"DefaultLoginPageGeneratingFilter"),n("td",null,"\u9ED8\u8BA4\u914D\u7F6E\u7684\u767B\u5F55\u9875\u9762")]),n("tr",null,[n("td",null,"BasicAuthenticationFilter"),n("td",null,"\u68C0\u6D4B\u548C\u5904\u7406http basic\u8BA4\u8BC1\uFF0C\u5C06\u7ED3\u679C\u653E\u8FDBSecurityContextHolder")]),n("tr",null,[n("td",null,"RequestCacheAwareFilter"),n("td",null,"\u5904\u7406\u8BF7\u6C42request\u7684\u7F13\u5B58")]),n("tr",null,[n("td",null,"SecurityContextHolderAwareRequestFilter"),n("td",null,"\u5305\u88C5\u8BF7\u6C42request\uFF0C\u4FBF\u4E8E\u8BBF\u95EESecurityContextHolder")]),n("tr",null,[n("td",null,"AnonymousAuthenticationFilter"),n("td",null,"\u533F\u540D\u8EAB\u4EFD\u8FC7\u6EE4\u5668\uFF0C\u4E0D\u5B58\u5728\u7528\u6237\u4FE1\u606F\u65F6\u8C03\u7528\u8BE5\u8FC7\u6EE4\u5668")]),n("tr",null,[n("td",null,"SessionManagementFilter"),n("td",null,"\u68C0\u6D4B\u6709\u7528\u6237\u767B\u5F55\u8BA4\u8BC1\u65F6\u505A\u76F8\u5E94\u7684session\u7BA1\u7406")]),n("tr",null,[n("td",null,"ExceptionTranslationFilter"),n("td",null,"\u5904\u7406AccessDeniedException\u8BBF\u95EE\u5F02\u5E38\u548CAuthenticationException\u8BA4\u8BC1\u5F02\u5E38")]),n("tr",null,[n("td",null,"FilterSecurityInterceptor"),n("td",null,"\u68C0\u6D4B\u7528\u6237\u662F\u5426\u5177\u6709\u8BBF\u95EE\u8D44\u6E90\u8DEF\u5F84\u7684\u6743\u9650")])])],-1),b=n("h2",{id:"\u6570\u636E\u5E93\u7BA1\u7406",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6570\u636E\u5E93\u7BA1\u7406","aria-hidden":"true"},"#"),s(" \u6570\u636E\u5E93\u7BA1\u7406")],-1),v=n("p",null,[n("img",{src:p,alt:"\u8BF7\u6C42\u6D41\u7A0B"})],-1),C=n("p",null,"\u4E0A\u56FE\u5C55\u793A\u7684Spring Security\u6838\u5FC3\u5904\u7406\u6D41\u7A0B\u3002\u5F53\u4E00\u4E2A\u7528\u6237\u767B\u5F55\u65F6\uFF0C\u4F1A\u5148\u8FDB\u884C\u8EAB\u4EFD\u8BA4\u8BC1\uFF0C\u5982\u679C\u8EAB\u4EFD\u8BA4\u8BC1\u672A\u901A\u8FC7\u4F1A\u8981\u6C42\u7528\u6237\u91CD\u65B0\u8BA4\u8BC1\uFF0C\u5F53\u7528\u6237\u8EAB\u4EFD\u8BC1\u901A\u8FC7\u540E\u5C31\u4F1A\u8C03\u7528\u89D2\u8272\u7BA1\u7406\u5668\u5224\u65AD\u4ED6\u662F\u5426\u53EF\u4EE5\u8BBF\u95EE\uFF0C\u8FD9\u91CC\uFF0C\u5982\u679C\u8981\u5B9E\u73B0\u6570\u636E\u5E93\u7BA1\u7406\u7528\u6237\u53CA\u6743\u9650\uFF0C\u5C31\u9700\u8981\u81EA\u5B9A\u4E49\u7528\u6237\u767B\u5F55\u529F\u80FD\uFF0CSpring Security\u5DF2\u7ECF\u63D0\u4F9B\u597D\u4E86\u4E00\u4E2A\u63A5\u53E3UserDetailsService\u3002",-1),U=n("div",{class:"language-java ext-java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("security"),n("span",{class:"token punctuation"},"."),s("core"),n("span",{class:"token punctuation"},"."),s("userdetails")]),n("span",{class:"token punctuation"},";"),s(`
 
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"UserDetailsService"),s(),n("span",{class:"token punctuation"},"{"),s(`
	
	`),n("span",{class:"token doc-comment comment"},[s(`/**
	 * Locates the user based on the username. In the actual implementation, the search
	 * may possibly be case sensitive, or case insensitive depending on how the
	 * implementation instance is configured. In this case, the `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("code")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token code-section"},[n("span",{class:"token line"},[n("span",{class:"token code language-java"},[n("span",{class:"token class-name"},"UserDetails")])])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("code")]),n("span",{class:"token punctuation"},">")]),s(`
	 * object that comes back may have a username that is of a different case than what
	 * was actually requested..
	 *
	 * `),n("span",{class:"token keyword"},"@param"),s(),n("span",{class:"token parameter"},"username"),s(` the username identifying the user whose data is required.
	 *
	 * `),n("span",{class:"token keyword"},"@return"),s(" a fully populated user record (never "),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("code")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token code-section"},[n("span",{class:"token line"},[n("span",{class:"token code language-java"},[n("span",{class:"token keyword"},"null")])])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("code")]),n("span",{class:"token punctuation"},">")]),s(`)
	 *
	 * `),n("span",{class:"token keyword"},"@throws"),s(),n("span",{class:"token reference"},[n("span",{class:"token class-name"},"UsernameNotFoundException")]),s(` if the user could not be found or the user has no
	 * GrantedAuthority
	 */`)]),s(`
	`),n("span",{class:"token class-name"},"UserDetails"),s(),n("span",{class:"token function"},"loadUserByUsername"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"String"),s(" username"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"UsernameNotFoundException"),n("span",{class:"token punctuation"},";"),s(`
    
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),j=n("p",null,"\u200B UserDetailService\u8BE5\u63A5\u53E3\u53EA\u6709\u4E00\u4E2A\u65B9\u6CD5\uFF0C\u901A\u8FC7\u65B9\u6CD5\u540D\u53EF\u4EE5\u770B\u51FA\u65B9\u6CD5\u662F\u901A\u8FC7\u7528\u6237\u540D\u6765\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u7684\uFF0C\u4F46\u8FD4\u56DE\u7ED3\u679C\u662FUserDetails\u5BF9\u8C61\uFF0CUserDetails\u4E5F\u662F\u4E00\u4E2A\u63A5\u53E3\uFF0C\u63A5\u53E3\u4E2D\u4EFB\u4F55\u4E00\u4E2A\u65B9\u6CD5\u8FD4\u56DEfalse\u7528\u6237\u7684\u51ED\u8BC1\u5C31\u4F1A\u88AB\u89C6\u4E3A\u65E0\u6548\u3002",-1),D=n("div",{class:"language-java ext-java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("security"),n("span",{class:"token punctuation"},"."),s("core"),n("span",{class:"token punctuation"},"."),s("userdetails")]),n("span",{class:"token punctuation"},";"),s(`
 
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("security"),n("span",{class:"token punctuation"},"."),s("core"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Authentication"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("security"),n("span",{class:"token punctuation"},"."),s("core"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"GrantedAuthority"),n("span",{class:"token punctuation"},";"),s(`
 
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("io"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Serializable"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Collection"),n("span",{class:"token punctuation"},";"),s(`
 
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"UserDetails"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"Serializable"),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token comment"},"// ~ Methods"),s(`
	`),n("span",{class:"token comment"},"// ========================================================================================================"),s(`
 
	`),n("span",{class:"token doc-comment comment"},`/**
	 * \u6743\u9650\u96C6\u5408
	 */`),s(`
	`),n("span",{class:"token class-name"},"Collection"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token operator"},"?"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"GrantedAuthority"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"getAuthorities"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(` 
 
	`),n("span",{class:"token doc-comment comment"},`/**
	 * \u5BC6\u7801
	 */`),s(`
	`),n("span",{class:"token class-name"},"String"),s(),n("span",{class:"token function"},"getPassword"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(` 
 
	`),n("span",{class:"token doc-comment comment"},`/**
	 * \u7528\u6237\u540D
	 */`),s(`
	`),n("span",{class:"token class-name"},"String"),s(),n("span",{class:"token function"},"getUsername"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(` 
 
	`),n("span",{class:"token doc-comment comment"},[s(`/**
   * \u8D26\u6237\u662F\u5426\u672A\u8FC7\u671F
   * `),n("span",{class:"token keyword"},"@return"),s(`
  */`)]),s(`
	`),n("span",{class:"token keyword"},"boolean"),s(),n("span",{class:"token function"},"isAccountNonExpired"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
 
	`),n("span",{class:"token doc-comment comment"},[s(`/**
   * \u8D26\u6237\u662F\u5426\u672A\u9501\u5B9A
   * `),n("span",{class:"token keyword"},"@return"),s(`
  */`)]),s(`
	`),n("span",{class:"token keyword"},"boolean"),s(),n("span",{class:"token function"},"isAccountNonLocked"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
 
	`),n("span",{class:"token doc-comment comment"},[s(`/**
   * \u5BC6\u7801\u662F\u5426\u672A\u8FC7\u671F
   * `),n("span",{class:"token keyword"},"@return"),s(`
  */`)]),s(`
	`),n("span",{class:"token keyword"},"boolean"),s(),n("span",{class:"token function"},"isCredentialsNonExpired"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
 
	`),n("span",{class:"token doc-comment comment"},[s(`/**
   * \u8D26\u6237\u662F\u5426\u53EF\u7528
   * `),n("span",{class:"token keyword"},"@return"),s(`
  */`)]),s(`
	`),n("span",{class:"token keyword"},"boolean"),s(),n("span",{class:"token function"},"isEnabled"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(` 
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),F=n("p",null,[s("\u8FD9\u91CC\u9700\u8981\u6CE8\u610F\u7684\u662F "),n("code",null,"Authentication"),s(" \u4E0E "),n("code",null,"UserDetails"),s(" \u5BF9\u8C61\u7684\u533A\u5206\uFF0C"),n("code",null,"Authentication"),s(" \u5BF9\u8C61\u624D\u662F "),n("code",null,"Spring Security"),s(" \u4F7F\u7528\u7684\u8FDB\u884C\u5B89\u5168\u8BBF\u95EE\u63A7\u5236\u7528\u6237\u4FE1\u606F\u7684\u5B89\u5168\u5BF9\u8C61\uFF0C\u5B9E\u9645\u4E0A"),n("code",null,"Authentication"),s("\u5BF9\u8C61\u6709\u672A\u8BA4\u8BC1\u548C\u5DF2\u8BA4\u8BC1\u4E24\u79CD\u72B6\u6001\uFF0C\u5728\u4F5C\u4E3A\u53C2\u6570\u4F20\u5165\u8BA4\u8BC1\u7BA1\u7406\u5668\u7684\u65F6\u5019\uFF0C\u5B83\u662F\u4E00\u4E2A\u4E3A\u8BA4\u8BC1\u7684\u5BF9\u8C61\uFF0C\u5B83\u4ECE\u5BA2\u6237\u7AEF\u83B7\u53D6\u7528\u6237\u7684\u8EAB\u4EFD\u8BA4\u8BC1\u4FE1\u606F\uFF0C\u5982\u7528\u6237\u540D\u3001\u5BC6\u7801\uFF0C\u53EF\u4EE5\u662F\u4ECE\u4E00\u4E2A\u767B\u5F55\u9875\u9762\uFF0C\u4E5F\u53EF\u4EE5\u662F\u4ECE "),n("code",null,"cookie"),s(" \u4E2D\u83B7\u53D6\uFF0C\u5E76\u7531\u7CFB\u7EDF\u81EA\u52A8\u751F\u6210\u4E00\u4E2A"),n("code",null,"Authentication"),s(" \u5BF9\u8C61\uFF0C\u800C\u8FD9\u91CC\u7684 "),n("code",null,"UserDetails"),s(" \u4EE3\u8868\u7684\u662F\u4E00\u4E2A\u7528\u6237\u5B89\u5168\u4FE1\u606F\u7684\u6E90\uFF0C\u8FD9\u4E2A\u6E90\u53EF\u4EE5\u662F\u4ECE\u6570\u636E\u5E93\u3001LDAP\u670D\u52A1\u5668\u3001CA\u4E2D\u5FC3\u8FD4\u56DE\uFF0C"),n("code",null,"Spring Security"),s(" \u8981\u505A\u7684\u5C31\u662F\u5C06\u672A\u8BA4\u8BC1\u7684 "),n("code",null,"Authentication"),s(" \u5BF9\u8C61\u4E0E"),n("code",null,"UserDetails"),s(" \u5BF9\u8C61\u8FDB\u884C\u5339\u914D\uFF0C\u6210\u529F\u540E\u5C06 "),n("code",null,"UserDetails"),s(" \u5BF9\u8C61\u4E2D\u7684\u6743\u9650\u4FE1\u606F\u62F7\u8D1D\u5230 "),n("code",null,"Authentication"),s(" \u4E2D\uFF0C\u7EC4\u6210\u4E00\u4E2A\u5B8C\u6574\u7684 "),n("code",null,"Authentication"),s(" \u5BF9\u8C61\uFF0C\u4E0E\u5176\u4ED6\u7EC4\u4EF6\u8FDB\u884C\u5171\u4EAB\u3002")],-1),E=n("div",{class:"language-java ext-java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("security"),n("span",{class:"token punctuation"},"."),s("core")]),n("span",{class:"token punctuation"},";"),s(`
 
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("io"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Serializable"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("security"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Principal"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Collection"),n("span",{class:"token punctuation"},";"),s(`
 
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("security"),n("span",{class:"token punctuation"},"."),s("authentication"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"AuthenticationManager"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("security"),n("span",{class:"token punctuation"},"."),s("core"),n("span",{class:"token punctuation"},"."),s("context"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SecurityContextHolder"),n("span",{class:"token punctuation"},";"),s(`
 
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"Authentication"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"Principal"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Serializable"),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token class-name"},"Collection"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token operator"},"?"),s(),n("span",{class:"token keyword"},"extends"),s(),n("span",{class:"token class-name"},"GrantedAuthority"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"getAuthorities"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
	`),n("span",{class:"token class-name"},"Object"),s(),n("span",{class:"token function"},"getCredentials"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
	`),n("span",{class:"token class-name"},"Object"),s(),n("span",{class:"token function"},"getDetails"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
	`),n("span",{class:"token class-name"},"Object"),s(),n("span",{class:"token function"},"getPrincipal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
 
	`),n("span",{class:"token keyword"},"boolean"),s(),n("span",{class:"token function"},"isAuthenticated"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

	`),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"setAuthenticated"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"boolean"),s(" isAuthenticated"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IllegalArgumentException"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),I=n("ol",null,[n("li",null,"getAuthorities \u65B9\u6CD5\u7528\u6765\u83B7\u53D6\u7528\u6237\u7684\u6743\u9650\u3002"),n("li",null,"getCredentials \u65B9\u6CD5\u7528\u6765\u83B7\u53D6\u7528\u6237\u51ED\u8BC1\uFF0C\u4E00\u822C\u6765\u8BF4\u5C31\u662F\u5BC6\u7801\u3002"),n("li",null,"getDetails \u65B9\u6CD5\u7528\u6765\u83B7\u53D6\u7528\u6237\u643A\u5E26\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u53EF\u80FD\u662F\u5F53\u524D\u8BF7\u6C42\u4E4B\u7C7B\u7684\u4E1C\u897F\u3002"),n("li",null,"getPrincipal \u65B9\u6CD5\u7528\u6765\u83B7\u53D6\u5F53\u524D\u7528\u6237\uFF0C\u53EF\u80FD\u662F\u4E00\u4E2A\u7528\u6237\u540D\uFF0C\u4E5F\u53EF\u80FD\u662F\u4E00\u4E2A\u7528\u6237\u5BF9\u8C61\u3002"),n("li",null,"isAuthenticated \u5F53\u524D\u7528\u6237\u662F\u5426\u8BA4\u8BC1\u6210\u529F\u3002")],-1),P=n("p",null,"\u4E86\u89E3\u4E86Spring Security\u7684\u4E0A\u9762\u4E09\u4E2A\u5BF9\u8C61\uFF0C\u5F53\u6211\u4EEC\u9700\u8981\u6570\u636E\u5E93\u7BA1\u7406\u7528\u6237\u65F6\uFF0C\u6211\u4EEC\u9700\u8981\u624B\u52A8\u5B9E\u73B0UserDetailsService\u5BF9\u8C61\u4E2D\u7684loadUserByUsername\u65B9\u6CD5\uFF0C\u8FD9\u5C31\u9700\u8981\u6211\u4EEC\u540C\u65F6\u51C6\u5907\u4EE5\u4E0B\u51E0\u5F20\u6570\u636E\u8868\uFF0C\u5206\u522B\u662F\u7528\u6237\u8868\uFF08user\uFF09\u3001\u89D2\u8272\u8868\uFF08role\uFF09\u3001\u6743\u9650\u8868\uFF08permission\uFF09\u3001\u7528\u6237\u548C\u89D2\u8272\u5173\u7CFB\u8868\uFF08user_role\uFF09\u3001\u6743\u9650\u548C\u89D2\u8272\u5173\u7CFB\u8868\uFF08permission_role\uFF09\uFF0CUserDetails\u4E2D\u7684\u7528\u6237\u72B6\u6001\u901A\u8FC7\u7528\u6237\u8868\u91CC\u7684\u5C5E\u6027\u53BB\u586B\u5145\uFF0CUserDetails\u4E2D\u7684\u6743\u9650\u96C6\u5408\u5219\u662F\u901A\u8FC7\u89D2\u8272\u8868\u3001\u6743\u9650\u8868\u3001\u7528\u6237\u548C\u89D2\u8272\u5173\u7CFB\u8868\u3001\u6743\u9650\u548C\u89D2\u8272\u5173\u7CFB\u8868\u6784\u6210\u7684RBAC\u6A21\u578B\u6765\u63D0\u4F9B\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u628A\u7528\u6237\u8BA4\u8BC1\u3001\u7528\u6237\u6743\u9650\u96C6\u5408\u653E\u5728\u6570\u636E\u5E93\u4E2D\u8FDB\u884C\u7BA1\u7406\u4E86\u3002",-1);function B(M,H){return a(),t(e,null,[k,d,m,g,y,h,_,S,w,f,x,A,b,v,C,U,j,D,F,E,I,P],64)}var q=o(r,[["render",B]]);export{q as default};
