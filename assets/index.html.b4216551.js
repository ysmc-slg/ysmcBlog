import{e as n}from"./app.a5d01d31.js";import{_ as s}from"./plugin-vue_export-helper.5a098b48.js";const a={},t=n(`<h1 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql" aria-hidden="true">#</a> Mysql</h1><h2 id="\u524D\u8A00" tabindex="-1"><a class="header-anchor" href="#\u524D\u8A00" aria-hidden="true">#</a> \u524D\u8A00</h2><p>mysql\u662F\u5F88\u4E45\u4E4B\u524D\u5B66\u8FC7\u7684\u77E5\u8BC6\uFF0C\u5BFC\u81F4\u73B0\u5728\u6709\u4E9B\u4E1C\u897F\u90FD\u5DF2\u7ECF\u5FD8\u8BB0\u3002\u6240\u4EE5\uFF0C\u518D\u6B21\u56DE\u987E\u4E00\u4E0B\uFF0C\u5C06\u56DE\u987E\u5185\u5BB9\u8BB0\u5F55\u4E0B\u6765\u3002</p><p>\u672C\u7BC7\u6587\u7AE0\u6CA1\u6709\u987A\u5E8F\uFF0C\u57FA\u672C\u662F\u590D\u4E60\u90A3\u4E00\u5757\u7684\u77E5\u8BC6\uFF0C\u8BB0\u5F55\u90A3\u4E00\u5757\u3002</p><h2 id="\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#\u51C6\u5907" aria-hidden="true">#</a> \u51C6\u5907</h2><p>\u8BF7\u4E0B\u8F7D<a href="/assets/file/test.sql">sql\u6587\u4EF6</a>\uFF0C\u7136\u540E\u5BFC\u5165\u6570\u636E\u5E93\u3002</p><h2 id="\u5B57\u7B26\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u5B57\u7B26\u51FD\u6570" aria-hidden="true">#</a> \u5B57\u7B26\u51FD\u6570</h2><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment"># 1.length \u83B7\u53D6\u53C2\u6570\u503C\u7684\`\u5B57\u8282\`\u4E2A\u6570</span>
<span class="token keyword">SELECT</span> LENGTH<span class="token punctuation">(</span><span class="token string">&#39;john&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
\u7ED3\u679C\uFF1A<span class="token number">4</span>

<span class="token comment"># 2. concat \u62FC\u63A5\u5B57\u7B26\u4E32</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;_&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;def&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
\u7ED3\u679C\uFF1Aabc_def

<span class="token comment"># 3. upper(\u5C06\u5B57\u6BCD\u5927\u5199)\u3001lower(\u5C06\u5B57\u6BCD\u5C0F\u5199)</span>
<span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;john&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">&#39;jOHn&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 4. substr \u622A\u53D6\u5B57\u7B26\uFF0C\u7D22\u5F15\u4ECE1\u5F00\u59CB</span>
<span class="token comment"># \u622A\u53D6\u7D22\u5F154\u4E4B\u540E\u7684(\u5305\u62EC4)</span>
<span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">&#39;\u6570\u636E\u5E93mysql&#39;</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> out_put<span class="token punctuation">;</span>
<span class="token comment"># \u622A\u53D6\u7D22\u5F15\u57281\u52303\u4E4B\u95F4\u7684</span>
<span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">&#39;\u6570\u636E\u5E93mysql&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> out_put<span class="token punctuation">;</span>
\u7ED3\u679C\uFF1Amysql  \u6570\u636E\u5E93

<span class="token comment"># 5. instr \u8FD4\u56DE\u5B50\u4E32\u7B2C\u4E00\u6B21\u51FA\u73B0\u7684\u7D22\u5F15\uFF0C\u5982\u679C\u627E\u4E0D\u5230\u8FD4\u56DE0</span>
<span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">&#39;\u6570\u636E\u5E93mysql&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;mysql&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> out_put<span class="token punctuation">;</span>
\u7ED3\u679C\uFF1A<span class="token number">4</span>

<span class="token comment"># 6. trim \u53BB\u6389\u7A7A\u683C\u6216\u6307\u5B9A\u7684\u5B57\u7B26</span>
<span class="token comment"># \u53BB\u6389\u7A7A\u683C</span>
<span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">&#39;   \u5F20\u4E09    &#39;</span><span class="token punctuation">)</span> out_put<span class="token punctuation">;</span>
<span class="token comment"># \u53BB\u6389\u524D\u540E\u7684\u5B57\u7B26&#39;a&#39;</span>
<span class="token keyword">select</span> TRIM<span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span> <span class="token keyword">FROM</span> <span class="token string">&#39;aaaaaaa\u5F20aaa\u4E09aaaaaaaaaa&#39;</span><span class="token punctuation">)</span> out_put<span class="token punctuation">;</span>
\u7ED3\u679C\uFF1A\u5F20\u4E09   \u5F20aaa\u4E09


<span class="token comment"># 7. lpad \u7528\u6307\u5B9A\u7684\u5B57\u7B26\u5B9E\u73B0\u5DE6\u586B\u5145\u6307\u5B9A\u957F\u5EA6</span>
<span class="token keyword">select</span> LPAD<span class="token punctuation">(</span><span class="token string">&#39;\u5F20\u4E09&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span> out_put
\u7ED3\u679C\uFF1A<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>\u5F20\u4E09

<span class="token comment"># 8. rpad \u7528\u6307\u5B9A\u7684\u5B57\u7B26\u5B9E\u73B0\u53F3\u586B\u5145\u6307\u5B9A\u957F\u5EA6</span>
<span class="token keyword">select</span> RPAD<span class="token punctuation">(</span><span class="token string">&#39;\u5F20\u4E09&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span> out_put
\u7ED3\u679C\uFF1A\u5F20\u4E09<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>

<span class="token comment"># 9. replace \u66FF\u6362</span>
<span class="token keyword">SELECT</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span><span class="token string">&#39;\u6CD5\u5916\u72C2\u5F92\u5F20\u4E09&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u6CD5\u5916\u72C2\u5F92&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u4E09\u597D\u9752\u5E74&#39;</span><span class="token punctuation">)</span> out_put
\u7ED3\u679C\uFF1A\u4E09\u597D\u9752\u5E74\u5F20\u4E09
</code></pre></div><h2 id="\u6570\u5B57\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u6570\u5B57\u51FD\u6570" aria-hidden="true">#</a> \u6570\u5B57\u51FD\u6570</h2><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment"># 1. round \u56DB\u820D\u4E94\u5165</span>
<span class="token comment"># \u53EA\u6709\u4E00\u4E2A\u53C2\u6570\uFF0C\u4E0D\u4FDD\u5B58\u5C0F\u6570\u3002</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">1.57</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
\u7ED3\u679C\uFF1A<span class="token number">2</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.57</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># \u7ED3\u679C\uFF1A-2\uFF0C\u8D1F\u6570\uFF0C\u5148\u5BF9\u7EDD\u5BF9\u503C\u56DB\u820D\u4E94\u5165\uFF0C\u5728\u52A0\u4E0A\u8D1F\u6570</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">1.789</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># \u56DB\u820D\u4E94\u5165\u4FDD\u7559\u4E24\u4E2A\u5C0F\u6570\uFF0C\u7ED3\u679C\uFF1A1.79</span>

<span class="token comment"># 2. seil \u5411\u4E0A\u53D6\u6574\uFF0C\u8FD4\u56DE&gt;=\u6539\u53C2\u6570\u7684\u6700\u5C0F\u6574\u6570</span>

<span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token number">1.23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># \u7ED3\u679C\uFF1A2</span>
<span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># \u7ED3\u679C\uFF1A-1</span>

<span class="token comment"># 3. floor \u5411\u4E0B\u53D6\u6574\uFF0C\u8FD4\u56DE&lt;=\u6539\u53C2\u6570\u7684\u6700\u5927\u6574\u6570</span>

<span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token number">9.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># \u7ED3\u679C\uFF1A9</span>
<span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">9.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#\u7ED3\u679C\uFF1A-10</span>

<span class="token comment"># mod \u53D6\u4F59</span>
<span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#\u7ED3\u679C\uFF1A1</span>
</code></pre></div><h2 id="\u65E5\u671F\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u65E5\u671F\u51FD\u6570" aria-hidden="true">#</a> \u65E5\u671F\u51FD\u6570</h2><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment"># now \u8FD4\u56DE\u5F53\u524D\u7CFB\u7EDF\u65F6\u95F4</span>
<span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># curdate \u8FD4\u56DE\u5F53\u524D\u7CFB\u7EDF\u65E5\u671F\uFF0C\u4E0D\u5305\u542B\u65F6\u95F4</span>
<span class="token keyword">select</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># \u53EF\u4EE5\u83B7\u53D6\u6307\u5B9A\u7684\u5E74\u3001\u6708\u3001\u65E5\u3001\u5C0F\u65F6\u3001\u5206\u949F\u3001\u79D2</span>
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> \u5E74
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token string">&#39;2021-07-26&#39;</span><span class="token punctuation">)</span> \u5E74
<span class="token keyword">SELECT</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> \u6708

<span class="token comment"># \u82F1\u6587\u6708</span>
<span class="token keyword">SELECT</span> MONTHNAME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> \u6708

<span class="token comment"># QUARTER(date) \u8FD4\u56DE\u65E5\u671F\u7684\u5B63\u5EA6</span>
<span class="token keyword">SELECT</span> QUARTER<span class="token punctuation">(</span><span class="token string">&quot;2021-10-08&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment"># \u7ED3\u679C\uFF1A4</span>

<span class="token comment"># \u7ED9\u5B9A\u4E00\u4E2A\u65E5\u671Fdate\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u65E5\u671F\u53F7\u7801\uFF08\u81EA0\u5E74\u4EE5\u6765\u7684\u5929\u6570\uFF09\u3002</span>
TO_DAYS<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span>

<span class="token comment"># week\uFF08date,mode\uFF09 \u83B7\u53D6\u6307\u5B9A\u7684\u65F6\u95F4\u662F\u672C\u5E74\u7684\u7B2C\u51E0\u4E2A\u5468,mode\u662F\u5468\u6570\u7684\u8BA1\u7B97\u65B9\u6CD5\uFF0C\u53EF\u9009\uFF0C\u8BE6\u60C5\u53C2\u8003\u4E0B\u65B9\u8868\u683C\`mode\u7684\u503C\`</span>
<span class="token keyword">select</span> WEEK<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> \u5468

<span class="token comment"># \u8FD4\u56DE\u65E5\u671F\u7528\u6570\u5B57\u8868\u793A\u7684\u8303\u56F4\u662F\u4ECE1\u523053\u7684\u65E5\u5386\u5468\u3002WEEKOFYEAR()\u662F\u4E00\u4E2A\u517C\u5BB9\u6027\u51FD\u6570\uFF0C\u5B83\u7B49\u6548\u4E8EWEEK(date,3)\u3002</span>
<span class="token keyword">SELECT</span> WEEKOFYEAR<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># YEARWEEK(date,mode) \u83B7\u53D6\u5E74\u4EFD\u548C\u5468\u6570\uFF0Cmode\u662F\u5468\u6570\u7684\u8BA1\u7B97\u65B9\u6CD5\uFF0C\u53EF\u9009\uFF0C\u4F46\u662F\u548CWEEK\u4E2D\u7684mode\u8BA1\u7B97\u65B9\u6CD5\u662F\u4E0D\u540C\u7684</span>
<span class="token comment"># \u7ED3\u679C\uFF1A202140</span>
<span class="token keyword">SELECT</span> YEARWEEK<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token comment"># str_to_date \u5C06\u65E5\u671F\u683C\u5F0F\u7684\u5B57\u7B26\u8F6C\u6362\u6210\u6307\u5B9A\u683C\u5F0F\u7684\u65E5\u671F</span>
<span class="token keyword">select</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;2021-07-26&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;%Y-%m-%d&#39;</span><span class="token punctuation">)</span> out_put

<span class="token comment"># date_format: \u5C06\u65E5\u671F\u8F6C\u6362\u6210\u5B57\u7B26</span>
<span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token string">&#39;2021-07-26&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;%Y-%m-%d&#39;</span><span class="token punctuation">)</span> out_put

<span class="token comment"># DATE_SUB(date,INTERVAL expr type) \u51FD\u6570\u4ECE\u65E5\u671F\u51CF\u53BB\u6307\u5B9A\u7684\u65F6\u95F4\u95F4\u9694\u3002</span>
<span class="token keyword">select</span> DATE_SUB<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">1</span> <span class="token keyword">HOUR</span><span class="token punctuation">)</span> out_put
<span class="token comment"># \u7ED3\u679C\uFF1A2021-07-28 11:37:15</span>

<span class="token comment"># DATEDIFF(date1,date2) \u51FD\u6570\u8FD4\u56DE\u4E24\u4E2A\u65E5\u671F\u4E4B\u95F4\u7684\u5929\u6570\u3002</span>
<span class="token keyword">SELECT</span> DATEDIFF<span class="token punctuation">(</span><span class="token string">&#39;2008-12-30&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2008-12-29&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> DiffDate

<span class="token comment"># PERIOD_DIFF(period1, period2) \u8FD4\u56DE\u4E24\u65E5\u671F\u4E4B\u95F4\u7684\u5DEE\u5F02\u3002\u7ED3\u679C\u4EE5\u6708\u4EFD\u8BA1\u7B97\u3002\u65E5\u671F\u683C\u5F0F\u4E3A\`YYMM\u6216YYYYMM\`</span>
<span class="token keyword">SELECT</span> PERIOD_DIFF<span class="token punctuation">(</span><span class="token number">201803</span><span class="token punctuation">,</span> <span class="token number">201801</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment"># \u7ED3\u679C\uFF1A 2</span>
</code></pre></div><table><thead><tr><th style="text-align:center;">\u683C\u5F0F\u7B26</th><th style="text-align:center;">\u529F\u80FD</th></tr></thead><tbody><tr><td style="text-align:center;">%Y</td><td style="text-align:center;">\u56DB\u4F4D\u7684\u5E74\u4EFD</td></tr><tr><td style="text-align:center;">%y</td><td style="text-align:center;">2\u4F4D\u7684\u5E74\u4EFD</td></tr><tr><td style="text-align:center;">%m</td><td style="text-align:center;">\u6708\u4EFD\uFF0801,02\u202611,12\uFF09</td></tr><tr><td style="text-align:center;">%c</td><td style="text-align:center;">\u6708\u4EFD\uFF081,2,\u202611,12\uFF09</td></tr><tr><td style="text-align:center;">%d</td><td style="text-align:center;">\u65E5\uFF0801,02,\u2026\uFF09</td></tr><tr><td style="text-align:center;">%H</td><td style="text-align:center;">\u5C0F\u65F6\uFF0824\u5C0F\u65F6\u5236\uFF09</td></tr><tr><td style="text-align:center;">%h</td><td style="text-align:center;">\u5C0F\u65F6\uFF0812\u5C0F\u65F6\u5236\uFF09</td></tr><tr><td style="text-align:center;">%i</td><td style="text-align:center;">\u5206\u949F\uFF0800,01\u202659\uFF09</td></tr><tr><td style="text-align:center;">%s</td><td style="text-align:center;">\u79D2\uFF0800,01,\u202659\uFF09</td></tr></tbody></table><p><strong>mode\u7684\u503C</strong></p><table><thead><tr><th style="text-align:center;">\u53C2\u6570\u503C</th><th style="text-align:center;">\u4E00\u5468\u7684\u7B2C\u4E00\u5929</th><th style="text-align:center;">\u8303\u56F4</th><th style="text-align:center;">\u7B2C\u4E00\u5468\u662F\u600E\u4E48\u8BA1\u7B97\u7684</th></tr></thead><tbody><tr><td style="text-align:center;">0</td><td style="text-align:center;">\u661F\u671F\u65E5</td><td style="text-align:center;">0-53</td><td style="text-align:center;">\u4ECE\u672C\u5E74\u7684\u7B2C\u4E00\u4E2A<code>\u661F\u671F\u65E5</code>\u5F00\u59CB\uFF0C\u662F\u7B2C\u4E00\u5468\u3002<br>\u524D\u9762\u7684\u8BA1\u7B97\u4E3A\u7B2C0\u5468</td></tr><tr><td style="text-align:center;">1</td><td style="text-align:center;">\u661F\u671F\u4E00</td><td style="text-align:center;">0-53</td><td style="text-align:center;">\u5047\u59821\u67081\u65E5\u5230\u7B2C\u4E00\u4E2A<code>\u5468\u4E00</code>\u7684\u5929\u6570\u8D85\u8FC73\u5929\uFF0C<br>\u5219\u8BA1\u7B97\u4E3A\u672C\u5E74\u7684\u7B2C\u4E00\u5468\uFF0C\u5426\u5219\u4E3A\u7B2C0\u5468</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">\u661F\u671F\u65E5</td><td style="text-align:center;">1-53</td><td style="text-align:center;">\u4ECE\u672C\u5E74\u7684\u7B2C\u4E00\u4E2A\u661F\u671F\u65E5\u5F00\u59CB\uFF0C\u662F\u7B2C\u4E00\u5468\u3002<br>\u524D\u9762\u7684\u8BA1\u7B97\u4E3A\u4E0A\u5E74\u5EA6\u76845X\u5468</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:center;">\u661F\u671F\u4E00</td><td style="text-align:center;">1-53</td><td style="text-align:center;">\u5047\u59821\u67081\u65E5\u5230\u7B2C\u4E00\u4E2A<code>\u5468\u4E00</code>\u7684\u5929\u6570\u8D85\u8FC73\u5929\uFF0C<br>\u8BA1\u7B97\u4E3A\u672C\u5E74\u7684\u7B2C\u4E00\u5468\uFF0C\u5426\u5219\u4E3A\u4E0A\u5E74\u5EA6\u7684\u7B2C5X\u5468</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:center;">\u661F\u671F\u65E5</td><td style="text-align:center;">0-53</td><td style="text-align:center;">\u5047\u59821\u67081\u65E5\u5230\u7B2C\u4E00\u4E2A<code>\u5468\u65E5</code>\u7684\u5929\u6570\u8D85\u8FC73\u5929\uFF0C<br>\u8BA1\u7B97\u4E3A\u672C\u5E74\u7684\u7B2C\u4E00\u5468\uFF0C\u5426\u5219\u4E3A\u7B2C0\u5468</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:center;">\u661F\u671F\u4E00</td><td style="text-align:center;">0-53</td><td style="text-align:center;">\u4ECE\u672C\u5E74\u5EA6\u7B2C\u4E00\u4E2A<code>\u661F\u671F\u4E00</code>\u5F00\u59CB\uFF0C\u662F\u7B2C\u4E00\u5468\u3002<br>\u524D\u9762\u7684\u8BA1\u7B97\u4E3A\u7B2C0\u5468</td></tr><tr><td style="text-align:center;">6</td><td style="text-align:center;">\u661F\u671F\u65E5</td><td style="text-align:center;">1-53</td><td style="text-align:center;">\u5047\u59821\u67081\u65E5\u5230\u7B2C\u4E00\u4E2A<code>\u5468\u65E5</code>\u7684\u5929\u6570\u8D85\u8FC73\u5929\uFF0C<br>\u8BA1\u7B97\u4E3A\u672C\u5E74\u7684\u7B2C\u4E00\u5468\uFF0C\u5426\u5219\u4E3A\u4E0A\u5E74\u5EA6\u7684\u7B2C5X\u5468</td></tr><tr><td style="text-align:center;">7</td><td style="text-align:center;">\u661F\u671F\u4E00</td><td style="text-align:center;">1-53</td><td style="text-align:center;">\u4ECE\u672C\u5E74\u7684\u7B2C\u4E00\u4E2A<code>\u661F\u671F\u4E00</code>\u5F00\u59CB\uFF0C\u662F\u7B2C\u4E00\u5468\u3002<br>\u524D\u9762\u7684\u8BA1\u7B97\u4E3A\u4E0A\u5E74\u5EA6\u76845X\u5468</td></tr></tbody></table><h2 id="\u65E5\u671F\u5E38\u7528\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u65E5\u671F\u5E38\u7528\u67E5\u8BE2" aria-hidden="true">#</a> \u65E5\u671F\u5E38\u7528\u67E5\u8BE2</h2><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- mysql \u67E5\u8BE2\u5F53\u5929\u3001\u672C\u5468\uFF0C\u672C\u6708\uFF0C\u4E0A\u4E00\u4E2A\u6708\u7684\u6570\u636E</span>
<span class="token comment">-- \u4ECA\u5929</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> \u8868\u540D <span class="token keyword">where</span> to_days<span class="token punctuation">(</span>\u65F6\u95F4\u5B57\u6BB5\u540D<span class="token punctuation">)</span> <span class="token operator">=</span> to_days<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u6628\u5929</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> \u8868\u540D <span class="token keyword">WHERE</span> TO_DAYS<span class="token punctuation">(</span> <span class="token function">NOW</span><span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">-</span> TO_DAYS<span class="token punctuation">(</span> \u65F6\u95F4\u5B57\u6BB5\u540D<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span>

<span class="token comment">-- \u8FD17\u5929</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> \u8868\u540D <span class="token keyword">where</span> DATE_SUB<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTERVAL</span> <span class="token number">7</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token keyword">date</span><span class="token punctuation">(</span>\u65F6\u95F4\u5B57\u6BB5\u540D<span class="token punctuation">)</span>

<span class="token comment">-- \u8FD130\u5929</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> \u8868\u540D <span class="token keyword">where</span> DATE_SUB<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTERVAL</span> <span class="token number">30</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token keyword">date</span><span class="token punctuation">(</span>\u65F6\u95F4\u5B57\u6BB5\u540D<span class="token punctuation">)</span>

<span class="token comment">-- \u672C\u6708</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> \u8868\u540D <span class="token keyword">WHERE</span> DATE_FORMAT<span class="token punctuation">(</span> \u65F6\u95F4\u5B57\u6BB5\u540D<span class="token punctuation">,</span> <span class="token string">&#39;%Y%m&#39;</span> <span class="token punctuation">)</span> <span class="token operator">=</span> DATE_FORMAT<span class="token punctuation">(</span> CURDATE<span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">,</span> <span class="token string">&#39;%Y%m&#39;</span> <span class="token punctuation">)</span>

<span class="token comment">-- \u4E0A\u4E00\u6708</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> \u8868\u540D <span class="token keyword">WHERE</span> PERIOD_DIFF<span class="token punctuation">(</span> date_format<span class="token punctuation">(</span> <span class="token function">now</span><span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">,</span> <span class="token string">&#39;%Y%m&#39;</span> <span class="token punctuation">)</span> <span class="token punctuation">,</span> date_format<span class="token punctuation">(</span> \u65F6\u95F4\u5B57\u6BB5\u540D<span class="token punctuation">,</span> <span class="token string">&#39;%Y%m&#39;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">=</span><span class="token number">1</span>

<span class="token comment">-- \u67E5\u8BE2\u672C\u5B63\u5EA6\u6570\u636E</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> \u8868\u540D <span class="token keyword">where</span> QUARTER<span class="token punctuation">(</span>\u65F6\u95F4\u5B57\u6BB5\u540D<span class="token punctuation">)</span><span class="token operator">=</span>QUARTER<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u67E5\u8BE2\u4E0A\u5B63\u5EA6\u6570\u636E</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> \u8868\u540D <span class="token keyword">where</span> QUARTER<span class="token punctuation">(</span>\u65F6\u95F4\u5B57\u6BB5\u540D<span class="token punctuation">)</span><span class="token operator">=</span>QUARTER<span class="token punctuation">(</span>DATE_SUB<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">1</span> QUARTER<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--\u67E5\u8BE2\u672C\u5E74\u6570\u636E</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> \u8868\u540D <span class="token keyword">where</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>\u65F6\u95F4\u5B57\u6BB5\u540D<span class="token punctuation">)</span><span class="token operator">=</span><span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- \u67E5\u8BE2\u4E0A\u5E74\u6570\u636E</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> \u8868\u540D <span class="token keyword">where</span> <span class="token keyword">year</span><span class="token punctuation">(</span>\u65F6\u95F4\u5B57\u6BB5\u540D<span class="token punctuation">)</span><span class="token operator">=</span><span class="token keyword">year</span><span class="token punctuation">(</span>date_sub<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">1</span> <span class="token keyword">year</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--\u67E5\u8BE2\u5F53\u524D\u8FD9\u5468\u7684\u6570\u636E</span>
<span class="token keyword">SELECT</span> name<span class="token punctuation">,</span>submittime <span class="token keyword">FROM</span> enterprise <span class="token keyword">WHERE</span> YEARWEEK<span class="token punctuation">(</span>date_format<span class="token punctuation">(</span>submittime<span class="token punctuation">,</span><span class="token string">&#39;%Y-%m-%d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> YEARWEEK<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--\u67E5\u8BE2\u4E0A\u5468\u7684\u6570\u636E</span>
<span class="token keyword">SELECT</span> name<span class="token punctuation">,</span>submittime <span class="token keyword">FROM</span> enterprise <span class="token keyword">WHERE</span> YEARWEEK<span class="token punctuation">(</span>date_format<span class="token punctuation">(</span>submittime<span class="token punctuation">,</span><span class="token string">&#39;%Y-%m-%d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> YEARWEEK<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="case\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#case\u51FD\u6570" aria-hidden="true">#</a> Case\u51FD\u6570</h2><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">--Case\u51FD\u6570:</span>
<span class="token comment">--\u6709\u4E24\u79CD\u683C\u5F0F\uFF1A</span>
<span class="token comment">--     1.\u7B80\u5355Case\u51FD\u6570\u3002</span>
<span class="token comment">--     2.Case\u641C\u7D22\u51FD\u6570\u3002</span>
<span class="token comment">--1.\u7B80\u5355Case\u51FD\u6570\uFF1A</span>
<span class="token comment">--    CASE [COLUMN_NAME] </span>
<span class="token comment">--        WHEN [&#39;\u6761\u4EF6\u53C2\u6570&#39;] THEN [&#39;COLUMN_NAME/\u663E\u793A\u5185\u5BB9&#39;]</span>
<span class="token comment">--        WHEN [&#39;\u6761\u4EF6\u53C2\u6570&#39;] THEN [&#39;COLUMN_NAME/\u663E\u793A\u5185\u5BB9&#39;]</span>
<span class="token comment">--        ......</span>
<span class="token comment">--        ELSE [&#39;COLUMN_NAME/\u663E\u793A\u5185\u5BB9&#39;]</span>
<span class="token comment">--        END</span>
<span class="token comment">--2.Case\u641C\u7D22\u51FD\u6570\uFF1A</span>
<span class="token comment">--    CASE WHEN [COLUMN_NAME] = [&#39;COLUMN_NAME/\u663E\u793A\u5185\u5BB9/\u8868\u8FBE\u5F0F&#39;] THEN [&#39;&#39;COLUMN_NAME/\u663E\u793A\u5185\u5BB9&#39;&#39;]</span>
<span class="token comment">--         WHEN [COLUMN_NAME] = [&#39;COLUMN_NAME/\u663E\u793A\u5185\u5BB9/\u8868\u8FBE\u5F0F&#39;] THEN [&#39;&#39;COLUMN_NAME/\u663E\u793A\u5185\u5BB9&#39;&#39;]</span>
<span class="token comment">--         ......</span>
<span class="token comment">--         ELSE [&#39;COLUMN_NAME/\u663E\u793A\u5185\u5BB9&#39;]</span>
<span class="token comment">--         END</span>
<span class="token comment">--\u8BF4\u660E\uFF1A\u4E24\u79CD\u65B9\u5F0F\u53EF\u4EE5\u5B9E\u73B0\u76F8\u540C\u7684\u529F\u80FD\u3002\u7B80\u5355CASE\u51FD\u6570\u8F83CASE\u641C\u7D22\u51FD\u6570\u8BED\u6CD5\u7B80\u6D01\uFF0C\u4F46\u529F\u80FD\u65B9\u9762\u6709\u6240\u9650\u5236\u3002</span>
<span class="token comment">--\u6BD4\u5982\u8BF4\u5199\u5224\u65AD\u5F0F\u3002\u540C\u65F6\u8FD8\u9700\u8981\u6CE8\u610F\u4E00\u70B9\uFF1ACASE\u51FD\u6570\u53EA\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u7B26\u5408\u6761\u4EF6\u7684\u503C\uFF0C\u5269\u4E0B\u8FBE\u5230CASE\u90E8\u5206\u5C06\u4F1A\u88AB\u81EA\u52A8\u5FFD\u7565\u3002</span>
<span class="token comment">--\u53E6\u5916\uFF1A\u4F7F\u7528CASE()\u51FD\u6570\u4E00\u65B9\u9762\u53EF\u4EE5\u5728\u67E5\u8BE2\u65F6\u7075\u6D3B\u7684\u7EC4\u7EC7\u8BED\u6CD5\u7ED3\u6784\uFF0C\u53E6\u5916\u4E00\u65B9\u9762\u53EF\u4EE5\u907F\u514D\u5BF9\u540C\u4E00\u5F20\u6216\u591A\u5F20\u8868\u7684\u591A\u6B21\u8BBF\u95EE\u3002</span>
<span class="token comment">--\u91CD\u70B9\u8BF4\u660E\uFF1A\u5728case \u51FD\u6570\u4E2Delse\u90E8\u5206\u53EF\u4EE5\u6CA1\u6709\uFF0C\u5982\u679C\u6CA1\u6709else\uFF0C\u9ED8\u8BA4\u503C\u4E3ANULL , \u8FD9\u70B9\u662F\u9700\u8981\u6CE8\u610F\u7684\u5730\u65B9 .</span>
</code></pre></div><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment"># \u7B80\u5355Case\u51FD\u6570</span>
<span class="token keyword">SELECT</span>  <span class="token keyword">CASE</span> sex 
<span class="token keyword">WHEN</span> <span class="token string">&#39;0&#39;</span> <span class="token keyword">THEN</span> <span class="token string">&#39;\u7537&#39;</span>
<span class="token keyword">WHEN</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">THEN</span> <span class="token string">&#39;\u5973&#39;</span>
<span class="token keyword">ELSE</span> <span class="token string">&#39;\u672A\u77E5&#39;</span> 
<span class="token keyword">END</span>
<span class="token keyword">FROM</span> sys_user
</code></pre></div><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment"># Case\u641C\u7D22\u51FD\u6570 </span>
<span class="token keyword">SELECT</span>  <span class="token keyword">CASE</span> 
<span class="token keyword">WHEN</span> sex <span class="token operator">=</span> <span class="token string">&#39;0&#39;</span> <span class="token keyword">THEN</span> <span class="token string">&#39;\u7537&#39;</span> 
<span class="token keyword">WHEN</span> sex <span class="token operator">=</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">THEN</span> <span class="token string">&#39;\u5973&#39;</span> 
<span class="token keyword">ELSE</span> <span class="token string">&#39;\u672A\u77E5&#39;</span> 
<span class="token keyword">END</span>
<span class="token keyword">FROM</span> sys_user
</code></pre></div><h2 id="\u5206\u7EC4\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u5206\u7EC4\u51FD\u6570" aria-hidden="true">#</a> \u5206\u7EC4\u51FD\u6570</h2><h3 id="sum-\u6C42\u548C\u3001avg-\u5E73\u5747\u503C\u3001max-\u6700\u5927\u503C\u3001min-\u6700\u5C0F\u503C\u3001count-\u8BA1\u7B97\u4E2A\u6570" tabindex="-1"><a class="header-anchor" href="#sum-\u6C42\u548C\u3001avg-\u5E73\u5747\u503C\u3001max-\u6700\u5927\u503C\u3001min-\u6700\u5C0F\u503C\u3001count-\u8BA1\u7B97\u4E2A\u6570" aria-hidden="true">#</a> sum \u6C42\u548C\u3001avg \u5E73\u5747\u503C\u3001max \u6700\u5927\u503C\u3001min \u6700\u5C0F\u503C\u3001count \u8BA1\u7B97\u4E2A\u6570</h3><div class="custom-container tip"><p class="custom-container-title">\u7279\u70B9</p><ol><li><p>sum\u3001avg\u4E00\u822C\u7528\u4E8E\u5904\u7406\u6570\u503C\u578B\uFF0Cmax\u3001min\u3001count\u53EF\u4EE5\u5904\u7406\u4EFB\u4F55\u7C7B\u578B</p></li><li><p>\u4EE5\u4E0A\u5206\u7EC4\u51FD\u6570\u90FD\u5FFD\u7565null\u503C</p></li><li><p>\u53EF\u4EE5\u548Cdistinct\u642D\u914D\u5B9E\u73B0\u53BB\u91CD\u7684\u8FD0\u7B97</p></li></ol></div><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token comment"># \u53EA\u8BA1\u7B97\u4E0D\u4E3Anull\u7684\u503C</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment"># \u548Cdistinct(\u53BB\u91CD)\u642D\u914D</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> salary<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">SUM</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> salary<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><h2 id="\u5206\u7EC4\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u5206\u7EC4\u67E5\u8BE2" aria-hidden="true">#</a> \u5206\u7EC4\u67E5\u8BE2</h2><p>\u8BED\u6CD5\uFF1A</p><div class="language-sql ext-sql"><pre class="language-sql"><code>  <span class="token keyword">select</span> \u5206\u7EC4\u51FD\u6570<span class="token punctuation">,</span>\u5217
  form \u8868
    \u3010<span class="token keyword">where</span> \u7B5B\u9009\u6761\u4EF6\u3011
  <span class="token keyword">group</span> <span class="token keyword">by</span> \u5206\u7EC4\u7684\u5217\u8868
    \u3010<span class="token keyword">having</span> \u5206\u7EC4\u540E\u7684\u6761\u4EF6\u3011
    \u3010<span class="token keyword">order</span> <span class="token keyword">by</span> \u6392\u5E8F\u3011
</code></pre></div><p><strong>\u7279\u70B9\uFF1A</strong></p><ol><li><p>\u5206\u7EC4\u67E5\u8BE2\u4E2D\u7684\u7B5B\u9009\u6761\u4EF6\u5206\u4E3A\u4E24\u7C7B</p><table><thead><tr><th style="text-align:center;">\u7C7B\u578B</th><th style="text-align:center;">\u6570\u636E\u6E90</th><th style="text-align:center;">\u4F4D\u7F6E</th><th style="text-align:center;">\u5173\u952E\u5B57</th></tr></thead><tbody><tr><td style="text-align:center;">\u5206\u7EC4\u524D\u7B5B\u9009</td><td style="text-align:center;">\u539F\u59CB\u8868</td><td style="text-align:center;">group by \u5B57\u53E5\u7684\u524D\u9762</td><td style="text-align:center;">where</td></tr><tr><td style="text-align:center;">\u5206\u7EC4\u540E\u7B5B\u9009</td><td style="text-align:center;">\u5206\u7EC4\u540E\u7684\u7ED3\u679C\u96C6</td><td style="text-align:center;">group by \u5B57\u53E5\u7684\u540E\u9762</td><td style="text-align:center;">having</td></tr></tbody></table><ol><li>\u5206\u7EC4\u51FD\u6570\u505A\u6761\u4EF6\u80AF\u5B9A\u662F\u653E\u5728having\u5B57\u53E5\u4E2D</li><li>\u80FD\u7528\u5206\u7EC4\u524D\u7B5B\u9009\u7684\uFF0C\u5C31\u4F18\u5148\u8003\u8651\u4F7F\u7528\u5206\u7EC4\u524D\u7B5B\u9009</li></ol></li><li><p>group by\u5B50\u53E5\u652F\u6301\u5355\u4E2A\u5B57\u6BB5\u5206\u7EC4\uFF0C\u591A\u4E2A\u5B57\u6BB5\u5206\u7EC4\uFF08\u591A\u4E2A\u5B57\u6BB5\u4E4B\u95F4\u7528\u9017\u53F7\u9694\u5F00\uFF09\uFF0C\u8868\u8FBE\u5F0F\u6216\u51FD\u6570\uFF08\u7528\u5F97\u8F83\u5C11\uFF09</p></li></ol><p><strong>\u6848\u4F8B\uFF1A</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment"># \u67E5\u8BE2\u6BCF\u4E2A\u90E8\u95E8\u7684\u5E73\u5747\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> avg_salary<span class="token punctuation">,</span>department_id <span class="token keyword">FROM</span> employees <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id<span class="token punctuation">;</span>

<span class="token comment"># \u67E5\u8BE2\u54EA\u4E2A\u90E8\u95E8\u7684\u5458\u5DE5\u4E2A\u6570 &gt; 2</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>department_id
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> department_id
<span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span>

<span class="token comment"># \u67E5\u8BE2\u6BCF\u4E2A\u5DE5\u79CD\u6709\u5956\u91D1\u7684\u5458\u5DE5\u7684\u6700\u9AD8\u5DE5\u8D44 \u548C\u5DE5\u79CD\u7F16\u53F7</span>
<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">as</span> maxsalary<span class="token punctuation">,</span>job_id
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> commission_pct <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job_id

<span class="token comment"># \u67E5\u8BE2\u6BCF\u4E2A\u90E8\u95E8\u6BCF\u4E2A\u5DE5\u79CD\u7684\u5458\u5DE5\u7684\u5E73\u5747\u5DE5\u8D44</span>
<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> avg_salary<span class="token punctuation">,</span>department_id<span class="token punctuation">,</span>job_id
<span class="token keyword">FROM</span> employees
<span class="token keyword">GROUP</span> <span class="token keyword">by</span> department_id<span class="token punctuation">,</span>job_id
</code></pre></div><h2 id="\u5B50\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u5B50\u67E5\u8BE2" aria-hidden="true">#</a> \u5B50\u67E5\u8BE2</h2><p><strong>\u542B\u4E49</strong>\uFF1A</p><ol><li><p>\u5B50\u67E5\u8BE2\u5141\u8BB8\u628A\u4E00\u4E2A\u67E5\u8BE2\u5D4C\u5957\u5728\u53E6\u4E00\u4E2A\u67E5\u8BE2\u5F53\u4E2D\u3002</p></li><li><p>\u5B50\u67E5\u8BE2\uFF0C\u53C8\u53EB\u5185\u90E8\u67E5\u8BE2\uFF0C\u76F8\u5BF9\u4E8E\u5185\u90E8\u67E5\u8BE2\uFF0C\u5305\u542B\u5185\u90E8\u67E5\u8BE2\u7684\u5C31\u79F0\u4E3A\u5916\u90E8\u67E5\u8BE2</p></li></ol><h3 id="\u5206\u7C7B" tabindex="-1"><a class="header-anchor" href="#\u5206\u7C7B" aria-hidden="true">#</a> \u5206\u7C7B</h3><p><strong>\u6309\u7ED3\u679C\u96C6\u7684\u884C\u5217\u6570\u4E0D\u540C</strong>\uFF1A</p><ol><li>\u6807\u91CF\u5B50\u67E5\u8BE2\uFF08\u7ED3\u679C\u96C6\u53EA\u6709\u4E00\u884C\u4E00\u5217\uFF09</li><li>\u5217\u5B50\u67E5\u8BE2\uFF08\u7ED3\u679C\u96C6\u6709\u4E00\u5217\u591A\u884C\uFF09</li><li>\u884C\u5B50\u67E5\u8BE2\uFF08\u7ED3\u679C\u96C6\u4E00\u884C\u591A\u5217\u6216\u591A\u884C\u591A\u5217\uFF09</li><li>\u8868\u5B50\u67E5\u8BE2\uFF08\u7ED3\u679C\u96C6\u4E00\u822C\u4E3A\u591A\u884C\u591A\u5217\uFF09</li></ol><p><strong>\u6309\u5B50\u67E5\u8BE2\u51FA\u73B0\u7684\u4F4D\u7F6E</strong>\uFF1A</p><ol><li>select\u540E\u9762 (\u4EC5\u4EC5\u652F\u6301\u6807\u91CF\u5B50\u67E5\u8BE2)</li><li>from\u540E\u9762 (\u652F\u6301\u8868\u5B50\u67E5\u8BE2)</li><li>where\u6216having\u540E\u9762 (\u6807\u91CF\u5B50\u67E5\u8BE2\uFF0C\u5217\u5B50\u67E5\u8BE2\uFF0C\u884C\u5B50\u67E5\u8BE2)</li></ol><p><strong>\u6848\u4F8B\u4E00</strong>\uFF1Aselect\u540E\u9762</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment"># \u627E\u51FA\u6BCF\u4E2A\u5458\u5DE5\u7684\u90E8\u95E8\u540D\u79F0\uFF0C\u663E\u793A\u5458\u5DE5\u540D\uFF0C\u90E8\u95E8\u540D</span>
<span class="token keyword">SELECT</span> 
e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> d<span class="token punctuation">.</span>dname <span class="token keyword">from</span> dept d <span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>deptno <span class="token operator">=</span> d<span class="token punctuation">.</span>deptno<span class="token punctuation">)</span> <span class="token keyword">as</span> dname
<span class="token keyword">FROM</span> emp e
</code></pre></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>select\u540E\u9762\u53EA\u80FD\u4F7F\u7528\u6807\u91CF\u5B50\u67E5\u8BE2\uFF0C\u8868\u91CF\u5B50\u67E5\u8BE2\u53EA\u6709\u4E00\u4E2A\u7ED3\u679C\u3002\u6240\u4EE5<code>select\u540E\u9762</code>\u6C38\u8FDC\u53EA\u6709\u4E00\u4E2A\u503C</p></div><p><strong>\u6848\u4F8B\u4E8C</strong>\uFF1Afrom\u540E\u9762</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">/*
  \u627E\u51FA\u6BCF\u4E2A\u5C97\u4F4D\u7684\u5E73\u5747\u5DE5\u8D44\u7684\u85AA\u8D44\u7B49\u7EA7
  \u53EF\u4EE5\u5206\u6B65\u505A\uFF0C\u5148\u627E\u51FA\u6BCF\u4E2A\u5C97\u4F4D\u7684\u5E73\u5747\u5DE5\u8D44\uFF0C\u7136\u540E\u518D\u67E5\u8BE2\u5E73\u5747\u5DE5\u8D44\u7684\u85AA\u8D44\u7B49\u7EA7
*/</span>
<span class="token comment"># 1.\u627E\u51FA\u6BCF\u4E2A\u5C97\u4F4D\u7684\u5E73\u5747\u5DE5\u8D44</span>
<span class="token keyword">select</span> job<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">FROM</span> emp <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job<span class="token punctuation">;</span>

<span class="token comment">#2. \u5C06\u7B2C\u4E00\u6B65\u4E2D\u4E2A\u7ED3\u679C\u5F53\u6210\u4E00\u4E2A\u8868 t \uFF0C\u7136\u540E\u4E0Esalgrade\u8868\u8FDE\u63A5\uFF0C\u6761\u4EF6\u4E3A\uFF0C\u5E73\u5747\u5DE5\u8D44\u5728\u6BCF\u4E2A\u7B49\u7EA7\u6700\u4F4E\u548C\u6700\u9AD8\u4E4B\u95F4\u7684</span>
<span class="token keyword">SELECT</span> t<span class="token punctuation">.</span>avg_sal<span class="token punctuation">,</span>t<span class="token punctuation">.</span>job<span class="token punctuation">,</span>s<span class="token punctuation">.</span>GRADE
<span class="token keyword">FROM</span>
<span class="token punctuation">(</span><span class="token keyword">select</span> job<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">as</span> avg_sal <span class="token keyword">FROM</span> emp <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> job<span class="token punctuation">)</span> t<span class="token punctuation">,</span>salgrade s
<span class="token keyword">WHERE</span> t<span class="token punctuation">.</span>avg_sal <span class="token operator">BETWEEN</span> s<span class="token punctuation">.</span>LOSAL <span class="token operator">AND</span> s<span class="token punctuation">.</span>HISAL
</code></pre></div><p><strong>\u6848\u4F8B\u4E09</strong>\uFF1Awhere\u540E\u9762</p><div class="custom-container tip"><p class="custom-container-title">\u7279\u70B9</p><pre><code>1. \u5B50\u67E5\u8BE2\u653E\u5728\u5C0F\u62EC\u53F7\u5185
2. \u5B50\u67E5\u8BE2\u4E00\u822C\u653E\u5728\u6761\u4EF6\u7684\u53F3\u4FA7
3. \u6807\u91CF\u5B50\u67E5\u8BE2(\u5355\u884C\u5B50\u67E5\u8BE2)\uFF0C\u4E00\u822C\u642D\u914D\u7740\u5355\u884C\u64CD\u4F5C\u7B26\u4F7F\u7528
    &gt; &lt;  &gt;=  &lt;=   &lt;&gt;

    \u5217\u5B50\u67E5\u8BE2\uFF08\u591A\u884C\u5B50\u67E5\u8BE2\uFF09\uFF0C\u4E00\u822C\u642D\u914D\u7740\u591A\u884C\u64CD\u4F5C\u7B26\u4F7F\u7528,in\u3001any/some\u3001all

4. \u5B50\u67E5\u8BE2\u7684\u6267\u884C\u4F18\u5148\u4E8E\u4E3B\u67E5\u8BE2\u7684\u6267\u884C
</code></pre></div><ol><li>\u6807\u91CF\u5B50\u67E5\u8BE2<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">#\u67E5\u8BE2\u5DE5\u8D44\u6BD4Abel\u9AD8\u7684\u5458\u5DE5</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span>
 <span class="token keyword">FROM</span> employees
 <span class="token keyword">WHERE</span> salary <span class="token operator">&gt;</span> <span class="token punctuation">(</span>
     <span class="token keyword">SELECT</span> salary 
     <span class="token keyword">FROM</span> employees
     <span class="token keyword">WHERE</span> last_name <span class="token operator">=</span> <span class="token string">&#39;Abel&#39;</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment"># \u67E5\u8BE2\u516C\u53F8\u5DE5\u8D44\u6700\u5C11\u7684\u5458\u5DE5\u7684last_name\uFF0Cjob_id\u548Csalary</span>
 <span class="token keyword">select</span> last_name<span class="token punctuation">,</span>job_id<span class="token punctuation">,</span>salary
 <span class="token keyword">FROM</span> employees
 <span class="token keyword">WHERE</span> salary <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">)</span>
</code></pre></div></li><li>\u5217\u5B50\u67E5\u8BE2(\u591A\u884C\u5B50\u67E5\u8BE2)<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment"># \u67E5\u8BE2location_id\u662F1400\u62161700\u7684\u90E8\u95E8\u4E2D\u7684\u6240\u6709\u5458\u5DE5\u59D3\u540D</span>
<span class="token keyword">SELECT</span> last_name
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> department_id <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> department_id <span class="token keyword">FROM</span> departments <span class="token keyword">WHERE</span> location_id <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token number">1400</span><span class="token punctuation">,</span><span class="token number">1700</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></li><li>\u884C\u5B50\u67E5\u8BE2\uFF08\u7ED3\u679C\u96C6\u4E00\u884C\u591A\u5217\u6216\u591A\u884C\u591A\u5217\uFF09<div class="language-sql ext-sql"><pre class="language-sql"><code> <span class="token comment"># \u67E5\u8BE2\u5458\u5DE5\u7F16\u53F7\u6700\u5C0F\u5E76\u4E14\u5DE5\u8D44\u6700\u9AD8\u7684\u5458\u5DE5\u4FE1\u606F</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> 
<span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> <span class="token punctuation">(</span>employee_id<span class="token punctuation">,</span>salary<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
      <span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>employee_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
      <span class="token keyword">FROM</span> employees
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol>`,48);function p(e,o){return t}var k=s(a,[["render",p]]);export{k as default};
