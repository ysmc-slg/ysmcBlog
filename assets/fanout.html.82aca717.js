import{c as a,o as t,F as o,a as n,b as s}from"./app.ccfdf457.js";import{_ as c}from"./plugin-vue_export-helper.5a098b48.js";var e="/blogImg/rabbitmq/2021-08-09_10-37-31.png",l="/blogImg/rabbitmq/\u9ED8\u8BA4\u4EA4\u6362\u673A.png",p="/blogImg/rabbitmq/binding.png",u="/blogImg/rabbitmq/image-20191126213115873.png",i="/blogImg/rabbitmq/binding2.png",k="/blogImg/rabbitmq/haha.png";const r={},d=n("h1",{id:"fanout\u6A21\u5F0F",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#fanout\u6A21\u5F0F","aria-hidden":"true"},"#"),s(" fanout\u6A21\u5F0F")],-1),g=n("h2",{id:"\u524D\u8A00",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u524D\u8A00","aria-hidden":"true"},"#"),s(" \u524D\u8A00")],-1),h=n("p",null,"\u4E0A\u9762\u4E24\u79CD\u6A21\u5F0F\uFF0C\u4E00\u4E2A\u6D88\u606F\u53EA\u80FD\u88AB\u4E00\u4E2A\u6D88\u8D39\u8005\u63A5\u6536\u3002\u5982\u679C\u60F3\u8BA9\u4E00\u4E2A\u6D88\u606F\u88AB\u591A\u4E2A\u6D88\u8D39\u8005\u63A5\u53D7\uFF0C\u4E0A\u9762\u4E24\u79CD\u6A21\u5F0F\u5C31\u4E0D\u884C\u4E86\u3002",-1),m=n("p",null,[s("\u5728\u5B9E\u73B0\u4E00\u4E2A\u6D88\u606F\u88AB\u591A\u4E2A\u6D88\u8D39\u8005\u63A5\u6536\u4E4B\u524D\u5148\u8BF4\u4E00\u4E0B"),n("code",null,"Exchanges\uFF08\u4EA4\u6362\u673A\uFF09")],-1),_=n("h2",{id:"exchange-\u6982\u5FF5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#exchange-\u6982\u5FF5","aria-hidden":"true"},"#"),s(" Exchange \u6982\u5FF5")],-1),b=n("p",null,[s("RabbitMQ \u6D88\u606F\u4F20\u9012\u6A21\u578B\u7684\u6838\u5FC3\u601D\u60F3\u662F: "),n("code",null,"\u751F\u4EA7\u8005\u751F\u4EA7\u7684\u6D88\u606F\u4ECE\u4E0D\u4F1A\u76F4\u63A5\u53D1\u9001\u5230\u961F\u5217"),s("\u3002\u5B9E\u9645\u4E0A\uFF0C\u901A\u5E38\u751F\u4EA7\u8005\u751A\u81F3\u90FD\u4E0D\u77E5\u9053\u8FD9\u4E9B\u6D88\u606F\u4F20\u9012\u4F20\u9012\u5230\u4E86\u54EA\u4E9B\u961F\u5217\u4E2D\u3002")],-1),f=n("p",null,[s("\u76F8\u53CD\uFF0C"),n("code",null,"\u751F\u4EA7\u8005\u53EA\u80FD\u5C06\u6D88\u606F\u53D1\u9001\u5230\u4EA4\u6362\u673A(exchange)"),s("\uFF0C\u4EA4\u6362\u673A\u5DE5\u4F5C\u7684\u5185\u5BB9\u975E\u5E38\u7B80\u5355\uFF0C\u4E00\u65B9\u9762\u5B83\u63A5\u6536\u6765\u81EA\u751F\u4EA7\u8005\u7684\u6D88\u606F\uFF0C\u53E6\u4E00\u65B9\u9762\u5C06\u5B83\u4EEC\u63A8\u5165\u961F\u5217\u3002\u4EA4\u6362\u673A\u5FC5\u987B\u786E\u5207\u77E5\u9053\u5982\u4F55\u5904\u7406\u6536\u5230\u7684\u6D88\u606F\u3002\u662F\u5E94\u8BE5\u628A\u8FD9\u4E9B\u6D88\u606F\u653E\u5230\u7279\u5B9A\u961F\u5217\u8FD8\u662F\u8BF4\u628A\u4ED6\u4EEC\u5230\u8BB8\u591A\u961F\u5217\u4E2D\u8FD8\u662F\u8BF4\u5E94\u8BE5\u4E22\u5F03\u5B83\u4EEC\u3002\u8FD9\u5C31\u7684\u7531\u4EA4\u6362\u673A\u7684\u7C7B\u578B\u6765\u51B3\u5B9A\u3002")],-1),y=n("p",null,[n("img",{src:e,alt:"Exchange \u6982\u5FF5"})],-1),x=n("p",null,[s("\u4E3A\u4EC0\u4E48\u6211\u4EEC\u4E4B\u524D\u6CA1\u7528"),n("code",null,"Exchange"),s("\u4E5F\u80FD\u6B63\u5E38\u4F7F\u7528\u5462\uFF1F")],-1),E=n("div",{class:"language-java ext-java"},[n("pre",{class:"language-java"},[n("code",null,[s(" channel"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"basicPublish"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},","),s("QUEUE_NAME"),n("span",{class:"token punctuation"},","),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s("message"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getBytes"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])])],-1),w=n("p",null,"\u5728\u53D1\u9001\u6D88\u606F\u65F6\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u4EA4\u6362\u673A\uFF0C\u7136\u800C\u6211\u4EEC\u7528\u7684\u662F\u7A7A\u4E32\uFF0C\u8FD9\u65F6\u7528\u7684\u5C31\u662Frabbitmq\u9ED8\u8BA4\u7684\u4EA4\u6362\u673A\u3002",-1),v=n("p",null,[n("img",{src:l,alt:"\u9ED8\u8BA4\u4EA4\u6362\u673A"})],-1),N=n("h3",{id:"exchanges-\u7684\u7C7B\u578B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#exchanges-\u7684\u7C7B\u578B","aria-hidden":"true"},"#"),s(" Exchanges \u7684\u7C7B\u578B")],-1),q=n("p",null,"\u603B\u5171\u6709\u4EE5\u4E0B\u7C7B\u578B\uFF1A",-1),S=n("p",null,"\u76F4\u63A5(direct), \u4E3B\u9898(topic) ,\u6807\u9898(headers) , \u6247\u51FA(fanout)",-1),C=n("h3",{id:"\u7ED1\u5B9A-bindings",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u7ED1\u5B9A-bindings","aria-hidden":"true"},"#"),s(" \u7ED1\u5B9A(bindings)")],-1),A=n("p",null,"\u4EC0\u4E48\u662F bingding \u5462\uFF0Cbinding \u5176\u5B9E\u662F exchange \u548C queue \u4E4B\u95F4\u7684\u6865\u6881\uFF0C\u5B83\u544A\u8BC9\u6211\u4EEC exchange \u548C\u90A3\u4E2A\u961F\u5217\u8FDB\u884C\u4E86\u7ED1\u5B9A\u5173\u7CFB\u3002\u6BD4\u5982\u8BF4\u4E0B\u9762\u8FD9\u5F20\u56FE\u544A\u8BC9\u6211\u4EEC\u7684\u5C31\u662F X \u4E0E Q1 \u548C Q2 \u8FDB\u884C\u4E86\u7ED1\u5B9A",-1),T=n("p",null,[n("img",{src:p,alt:"binding"})],-1),B=n("h2",{id:"fanout",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#fanout","aria-hidden":"true"},"#"),s(" Fanout")],-1),j=n("p",null,[n("code",null,"fanout \u6247\u51FA \u4E5F\u79F0\u4E3A\u5E7F\u64AD")],-1),M=n("p",null,[n("img",{src:u,alt:"fanout"})],-1),U=n("p",null,"\u5728\u5E7F\u64AD\u6A21\u5F0F\u4E0B\uFF0C\u6D88\u606F\u53D1\u9001\u6D41\u7A0B\u662F\u8FD9\u6837\u7684\uFF1A",-1),X=n("ul",null,[n("li",null,"\u53EF\u4EE5\u6709\u591A\u4E2A\u6D88\u8D39\u8005"),n("li",null,[s("\u6BCF\u4E2A"),n("strong",null,"\u6D88\u8D39\u8005\u6709\u81EA\u5DF1\u7684queue"),s("\uFF08\u961F\u5217\uFF09")]),n("li",null,[s("\u6BCF\u4E2A"),n("strong",null,"\u961F\u5217\u90FD\u8981\u7ED1\u5B9A\u5230Exchange"),s("\uFF08\u4EA4\u6362\u673A\uFF09")]),n("li",null,[n("strong",null,"\u751F\u4EA7\u8005\u53D1\u9001\u7684\u6D88\u606F\uFF0C\u53EA\u80FD\u53D1\u9001\u5230\u4EA4\u6362\u673A"),s("\uFF0C\u4EA4\u6362\u673A\u6765\u51B3\u5B9A\u8981\u53D1\u7ED9\u54EA\u4E2A\u961F\u5217\uFF0C\u751F\u4EA7\u8005\u65E0\u6CD5\u51B3\u5B9A\u3002")]),n("li",null,"\u4EA4\u6362\u673A\u628A\u6D88\u606F\u53D1\u9001\u7ED9\u7ED1\u5B9A\u8FC7\u7684\u6240\u6709\u961F\u5217"),n("li",null,"\u961F\u5217\u7684\u6D88\u8D39\u8005\u90FD\u80FD\u62FF\u5230\u6D88\u606F\u3002\u5B9E\u73B0\u4E00\u6761\u6D88\u606F\u88AB\u591A\u4E2A\u6D88\u8D39\u8005\u6D88\u8D39")],-1),D=n("h3",{id:"\u6D88\u8D39\u80051",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6D88\u8D39\u80051","aria-hidden":"true"},"#"),s(" \u6D88\u8D39\u80051")],-1),F=n("div",{class:"language-java ext-java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"ReceiveLogs01"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"static"),s(),n("span",{class:"token keyword"},"final"),s(),n("span",{class:"token class-name"},"String"),s(" EXCHANGE_NAME "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"logs"'),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"static"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(" args"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"TimeoutException"),s(),n("span",{class:"token punctuation"},"{"),s(`

        `),n("span",{class:"token class-name"},"Channel"),s(" channel "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"RabbitMqUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getChannel"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

       `),n("span",{class:"token comment"},"//\u58F0\u660E\u4E00\u4E2A\u4EA4\u6362\u673A"),s(`
        channel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"exchangeDeclare"),n("span",{class:"token punctuation"},"("),s("EXCHANGE_NAME"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"BuiltinExchangeType"),n("span",{class:"token punctuation"},"."),s("FANOUT"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        
        `),n("span",{class:"token comment"},"//\u58F0\u660E\u4E00\u4E2A\u4E34\u65F6\u961F\u5217"),s(`
        `),n("span",{class:"token class-name"},"String"),s(" queueName "),n("span",{class:"token operator"},"="),s(" channel"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"queueDeclare"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getQueue"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u7ED1\u5B9A\u4EA4\u6362\u673A\u548C\u961F\u5217"),s(`
        channel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"queueBind"),n("span",{class:"token punctuation"},"("),s("queueName"),n("span",{class:"token punctuation"},","),s("EXCHANGE_NAME"),n("span",{class:"token punctuation"},","),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u7B49\u5F85\u63A5\u6536\u6D88\u606F,\u628A\u63A5\u6536\u5230\u7684\u6D88\u606F\u6253\u5370\u5728\u5C4F\u5E55....."'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u63A5\u53D7\u6210\u529F\u7684\u56DE\u8C03"),s(`
        `),n("span",{class:"token class-name"},"DeliverCallback"),s(" deliverCallback "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),s("consumerTag"),n("span",{class:"token punctuation"},","),s(" message"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"->"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token class-name"},"String"),s(" msg "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"("),s("message"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getBody"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"UTF-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u6D88\u8D39\u80052\uFF1A"'),n("span",{class:"token operator"},"+"),s("msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u63A5\u6536\u6D88\u606F"),s(`
        channel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"basicConsume"),n("span",{class:"token punctuation"},"("),s("queueName"),n("span",{class:"token punctuation"},","),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s("deliverCallback"),n("span",{class:"token punctuation"},","),s(" consumerTag "),n("span",{class:"token operator"},"->"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),G=n("div",{class:"custom-container tip"},[n("p",{class:"custom-container-title"},"\u53C2\u6570\u8BE6\u89E3"),n("p",null,[n("strong",null,"channel.exchangeDeclare(String exchange, BuiltinExchangeType type)"),s("\uFF1A\u58F0\u660E\u4E00\u4E2A\u4EA4\u6362\u673A")]),n("ul",null,[n("li",null,"\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u4EA4\u6362\u673A\u540D\u79F0"),n("li",null,[s('\u7B2C\u4E8C\u4E2A\u662F\u4EA4\u6362\u673A\u7C7B\u578B\uFF0C\u53EF\u4EE5\u586B"fanout"\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528'),n("code",null,"BuiltinExchangeType.\u5177\u4F53\u7C7B\u578B"),s("\u3002")])]),n("p",null,[n("strong",null,"channel.queueDeclare().getQueue()"),s("\uFF1A\u521B\u5EFA\u4E34\u65F6\u961F\u5217\uFF0C\u961F\u5217\u7684\u540D\u79F0\u662F\u968F\u673A\u7684\uFF0C\u5F53\u6D88\u8D39\u8005\u65AD\u5F00\u4E0E\u961F\u5217\u7684\u8FDE\u63A5\u65F6\uFF0C\u5217\u8868\u673A\u4F1A\u81EA\u52A8\u5220\u9664")]),n("p",null,[n("strong",null,"channel.queueBind(String queue, String exchange, String routingKey)"),s("\uFF1A\u7ED1\u5B9A\u4EA4\u6362\u673A\u3002")]),n("ul",null,[n("li",null,"\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u961F\u5217\u540D"),n("li",null,"\u4E8C\u4E2A\u53C2\u6570\u662F\u4EA4\u6362\u673A\u540D"),n("li",null,"\u7B2C\u4E09\u4E2A\u53C2\u6570\u662F\u7ED1\u5B9A\u7684routingKey\uFF0C\u751F\u4EA7\u8005\u53D1\u9001\u6D88\u606F\u5C31\u662F\u901A\u8FC7routingKey\uFF0C\u6765\u5224\u65AD\u5177\u4F53\u5F80\u54EA\u4E2A\u961F\u5217\u4E2D\u53D1\u3002\u6B64\u65F6\u6211\u4EEC\u662F\u5C06\u4FE1\u606F\u53D1\u9001\u5230\u6240\u6709\u6D88\u8D39\u8005\uFF0C\u6240\u4EE5\u6240\u6709\u961F\u5217\u7ED1\u5B9A\u7684\u8981\u76F8\u540C\uFF0C\u7A7A\u4E32\u6216\u8005\u76F8\u540C\u7684\u5B57\u7B26")])],-1),H=n("h3",{id:"\u6D88\u8D39\u80052",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6D88\u8D39\u80052","aria-hidden":"true"},"#"),s(" \u6D88\u8D39\u80052")],-1),I=n("div",{class:"language-java ext-java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"ReceiveLogs02"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"static"),s(),n("span",{class:"token keyword"},"final"),s(),n("span",{class:"token class-name"},"String"),s(" EXCHANGE_NAME "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"logs"'),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"static"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(" args"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"TimeoutException"),s(),n("span",{class:"token punctuation"},"{"),s(`

        `),n("span",{class:"token class-name"},"Channel"),s(" channel "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"RabbitMqUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getChannel"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u58F0\u660E\u4E00\u4E2A\u4EA4\u6362\u673A"),s(`
        channel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"exchangeDeclare"),n("span",{class:"token punctuation"},"("),s("EXCHANGE_NAME"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"BuiltinExchangeType"),n("span",{class:"token punctuation"},"."),s("FANOUT"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u58F0\u660E\u4E00\u4E2A\u4E34\u65F6\u961F\u5217"),s(`
        `),n("span",{class:"token class-name"},"String"),s(" queueName "),n("span",{class:"token operator"},"="),s(" channel"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"queueDeclare"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getQueue"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u7ED1\u5B9A\u4EA4\u6362\u673A\u548C\u961F\u5217"),s(`
        channel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"queueBind"),n("span",{class:"token punctuation"},"("),s("queueName"),n("span",{class:"token punctuation"},","),s("EXCHANGE_NAME"),n("span",{class:"token punctuation"},","),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u7B49\u5F85\u63A5\u6536\u6D88\u606F,\u628A\u63A5\u6536\u5230\u7684\u6D88\u606F\u6253\u5370\u5728\u5C4F\u5E55....."'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u63A5\u53D7\u6210\u529F\u7684\u56DE\u8C03"),s(`
        `),n("span",{class:"token class-name"},"DeliverCallback"),s(" deliverCallback "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),s("consumerTag"),n("span",{class:"token punctuation"},","),s(" message"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"->"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token class-name"},"String"),s(" msg "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"("),s("message"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getBody"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"UTF-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u6D88\u8D39\u80052\uFF1A"'),n("span",{class:"token operator"},"+"),s("msg"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// \u63A5\u6536\u6D88\u606F"),s(`
        channel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"basicConsume"),n("span",{class:"token punctuation"},"("),s("queueName"),n("span",{class:"token punctuation"},","),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s("deliverCallback"),n("span",{class:"token punctuation"},","),s(" consumerTag "),n("span",{class:"token operator"},"->"),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),Q=n("h3",{id:"\u751F\u4EA7\u8005",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u751F\u4EA7\u8005","aria-hidden":"true"},"#"),s(" \u751F\u4EA7\u8005")],-1),O=n("div",{class:"language-java ext-java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"EmitLog"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"static"),s(),n("span",{class:"token keyword"},"final"),s(),n("span",{class:"token class-name"},"String"),s(" EXCHANGE_NAME "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"logs"'),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"static"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"main"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"String"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(" args"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"TimeoutException"),s(),n("span",{class:"token punctuation"},"{"),s(`

        `),n("span",{class:"token class-name"},"Channel"),s(" channel "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"RabbitMqUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getChannel"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token comment"},"// \u58F0\u660E\u4E00\u4E2A\u4EA4\u6362\u673A"),s(`
        channel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"exchangeDeclare"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"EXCHANGE_NAME"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"BuiltinExchangeType"),n("span",{class:"token punctuation"},"."),s("FANOUT"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},"Scanner"),s(" scanner "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Scanner"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("in"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token punctuation"},"("),s("scanner"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"hasNext"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token class-name"},"String"),s(" message "),n("span",{class:"token operator"},"="),s(" scanner"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"next"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token comment"},"// \u53D1\u9001\u4FE1\u606F"),s(`
            channel`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"basicPublish"),n("span",{class:"token punctuation"},"("),s("EXCHANGE_NAME"),n("span",{class:"token punctuation"},","),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},","),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s("message"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getBytes"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"UTF-8"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

            `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"\u751F\u4EA7\u8005\u53D1\u51FA\u6D88\u606F"'),s(),n("span",{class:"token operator"},"+"),s(" message"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),R=n("p",null,"channel.basicPublish()\uFF1A\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u5F80\u54EA\u4E2A\u4EA4\u6362\u673A\u53D1\u9001\u4FE1\u606F\uFF0C\u6B64\u65F6\u8981\u548C\u6D88\u8D39\u8005\u4EE3\u7801\u4E2D\u7684\u4EA4\u6362\u673A\u76F8\u540C",-1),L=n("p",null,"Logs \u548C\u4E34\u65F6\u961F\u5217\u7684\u7ED1\u5B9A\u5173\u7CFB\u5982\u4E0B\u56FE:",-1),K=n("p",null,[n("img",{src:i,alt:"haha"})],-1),P=n("p",null,[n("strong",null,"\u7ED3\u679C"),s("\uFF1A")],-1),V=n("p",null,[n("img",{src:k,alt:"haha"})],-1);function z(J,W){return t(),a(o,null,[d,g,h,m,_,b,f,y,x,E,w,v,N,q,S,C,A,T,B,j,M,U,X,D,F,G,H,I,Q,O,R,L,K,P,V],64)}var $=c(r,[["render",z]]);export{$ as default};
