<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>日期和时间 | 余生慢尝</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <link name="author" content="余生慢尝">
    <link name="keywords" content="余生慢尝">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="余生慢尝的笔记">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.b42adf48.css" as="style"><link rel="preload" href="/assets/js/app.87e13738.js" as="script"><link rel="preload" href="/assets/js/2.9f0304db.js" as="script"><link rel="preload" href="/assets/js/10.ebdfe297.js" as="script"><link rel="preload" href="/assets/js/3.5bf914f4.js" as="script"><link rel="prefetch" href="/assets/js/11.f214ccab.js"><link rel="prefetch" href="/assets/js/12.6e8e0715.js"><link rel="prefetch" href="/assets/js/13.b6d8622d.js"><link rel="prefetch" href="/assets/js/14.8ecbaacd.js"><link rel="prefetch" href="/assets/js/15.2f338fa0.js"><link rel="prefetch" href="/assets/js/16.609fc6f6.js"><link rel="prefetch" href="/assets/js/17.4ada27f7.js"><link rel="prefetch" href="/assets/js/18.9694ee06.js"><link rel="prefetch" href="/assets/js/19.dd867fe5.js"><link rel="prefetch" href="/assets/js/20.f07b7d11.js"><link rel="prefetch" href="/assets/js/21.f1ff82f4.js"><link rel="prefetch" href="/assets/js/22.1e98bb9e.js"><link rel="prefetch" href="/assets/js/23.6f110022.js"><link rel="prefetch" href="/assets/js/24.87f4bc97.js"><link rel="prefetch" href="/assets/js/25.733866ce.js"><link rel="prefetch" href="/assets/js/4.6259a600.js"><link rel="prefetch" href="/assets/js/5.1cb9dfee.js"><link rel="prefetch" href="/assets/js/6.f87a66d5.js"><link rel="prefetch" href="/assets/js/7.4aa75368.js"><link rel="prefetch" href="/assets/js/8.ce2d3850.js"><link rel="prefetch" href="/assets/js/9.09a5ce7f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b42adf48.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/hero.png" alt="余生慢尝" class="logo"> <span class="site-name can-hide">余生慢尝</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/view/preface/" class="nav-link">
  前言
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/view/database/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/view/database/mysql/" class="nav-link">
  Mysql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java系" class="dropdown-title"><span class="title">java系</span> <span class="arrow down"></span></button> <button type="button" aria-label="java系" class="mobile-dropdown-title"><span class="title">java系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/view/java/jdk8/" class="nav-link">
  Java8新特性
</a></li><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/view/mq/rabbitmq/" class="nav-link">
  rabbitMQ
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/view/preface/" class="nav-link">
  前言
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/view/database/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/view/database/mysql/" class="nav-link">
  Mysql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java系" class="dropdown-title"><span class="title">java系</span> <span class="arrow down"></span></button> <button type="button" aria-label="java系" class="mobile-dropdown-title"><span class="title">java系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/view/java/jdk8/" class="nav-link">
  Java8新特性
</a></li><li class="dropdown-item"><h4>
          MQ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/view/mq/rabbitmq/" class="nav-link">
  rabbitMQ
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Jdk8</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/view/Java/jdk8/" aria-current="page" class="sidebar-link">简介</a></li><li><a href="/view/Java/jdk8/Lambda.html" class="sidebar-link">lambda表达式</a></li><li><a href="/view/Java/jdk8/functional.html" class="sidebar-link">函数式接口</a></li><li><a href="/view/Java/jdk8/method-reference.html" class="sidebar-link">方法引用</a></li><li><a href="/view/Java/jdk8/StreamAPI.html" class="sidebar-link">StreamAPI</a></li><li><a href="/view/Java/jdk8/CollectorsApi.html" class="sidebar-link">Collectors其他方法</a></li><li><a href="/view/Java/jdk8/Date.html" aria-current="page" class="active sidebar-link">日期和时间</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/view/Java/jdk8/Date.html#localdatetime" class="sidebar-link">LocalDateTime</a></li><li class="sidebar-sub-header"><a href="/view/Java/jdk8/Date.html#duration" class="sidebar-link">Duration</a></li><li class="sidebar-sub-header"><a href="/view/Java/jdk8/Date.html#temporaladjuster-时间校正器" class="sidebar-link">TemporalAdjuster(时间校正器)</a></li><li class="sidebar-sub-header"><a href="/view/Java/jdk8/Date.html#格式化时间-日期" class="sidebar-link">格式化时间/日期</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Java 8通过发布新的Date-Time API (JSR 310)来进一步加强对日期与时间的处理。在旧版的 Java 中，日期时间 API 存在诸多问题，其中有：</p> <ul><li>非线程安全 − java.util.Date 是非线程安全的，所有的日期类都是可变的，这是Java日期类最大的问题之一。</li> <li>设计很差 − Java的日期/时间类的定义并不一致，在java.util和java.sql的包中都有日期类，此外用于格式化和解析的类在java.text包中定义。java.util.Date同时包含日期和时间，而java.sql.Date仅包含日期，将其纳入java.sql包并不合理。另外这两个类都有相同的名字，这本身就是一个非常糟糕的设计。</li> <li>时区处理麻烦 − 日期类并不提供国际化，没有时区支持，因此Java引入了java.util.Calendar和java.util.TimeZone类，但他们同样存在上述所有的问题</li></ul> <p>故此，Java8引入了一套全新的日期时间处理API，新的API基于ISO标准日历系统。</p> <h2 id="localdatetime"><a href="#localdatetime" class="header-anchor">#</a> LocalDateTime</h2> <p>主要有三个类，<code>LocalDate</code>，<code>LocalTime</code>，<code>LocalDateTime</code>。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>LocalDate：获取日期</p> <p>LocalTime：获取时间</p> <p>LocalDateTime：获取日期和时间</p></div> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 获取当年日期和时间 </span>
    <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 获取当前日期</span>
    <span class="token class-name">LocalDate</span> now1 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now1<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 获取当前时间</span>
    <span class="token class-name">LocalTime</span> now2 <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 指定日期和时间，LocalDate和LocalTime也有of方法，这里就不演示了。</span>
    <span class="token class-name">LocalDateTime</span> of <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code>结果：
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">22</span>T21<span class="token operator">:</span><span class="token number">27</span><span class="token operator">:</span><span class="token number">42.851</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">22</span>
<span class="token number">21</span><span class="token operator">:</span><span class="token number">27</span><span class="token operator">:</span><span class="token number">42.852</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">21</span>T10<span class="token operator">:</span><span class="token number">32</span><span class="token operator">:</span><span class="token number">12</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>还可以对日期和时间进行运算</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LocalDate</span> now1 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 加两年，也会返回一个LocalDateTime，不会直接修改now</span>
    <span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 减两个月</span>
    <span class="token class-name">LocalDate</span> localDate1 <span class="token operator">=</span> now1<span class="token punctuation">.</span><span class="token function">minusMonths</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>localDate1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

```java
结果：
<span class="token number">2023</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">22</span>T21<span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">12.175</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">22</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>获取年月日</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 年</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 月</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMonthValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 一月中的第几天，也就是 日</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 时</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 分</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 秒</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

结果：
<span class="token number">2021</span>
<span class="token number">7</span>
<span class="token number">22</span>
<span class="token number">21</span>
<span class="token number">37</span>
<span class="token number">16</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>以上方法只是其中的一些，在<code>LocalDate</code>，<code>LocalTime</code>，<code>LocalDateTime</code>中这些方法基本都是通用的。只有个别是例外。比如<code>LocalTime</code>本身就是是时间，所以就没有获取年月日的方法。</p> <p>以下是整理的常用的一些方法。</p> <table><thead><tr><th style="text-align:center;">方法</th> <th style="text-align:center;">返回值</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td style="text-align:center;">now ()</td> <td style="text-align:center;"><code>LocalDate</code>，<br><code>LocalTime</code>，<br><code>LocalDateTime</code></td> <td style="text-align:center;">获取当前日期，<br>时间，<br>日期和时间</td></tr> <tr><td style="text-align:center;">of ()</td> <td style="text-align:center;"><code>LocalDate</code>，<br><code>LocalTime</code>，<br><code>LocalDateTime</code></td> <td style="text-align:center;">构造指定的日期，<br>时间，<br>日期和时间</td></tr> <tr><td style="text-align:center;">equals(Object object)</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">比较两个日期是否相等</td></tr> <tr><td style="text-align:center;">plusYears(long years)</td> <td style="text-align:center;"><code>LocalDate</code>，<br><code>LocalDateTime</code></td> <td style="text-align:center;">增加年份</td></tr> <tr><td style="text-align:center;">plusMonths(long months)</td> <td style="text-align:center;"><code>LocalDate</code>，<br><code>LocalDateTime</code></td> <td style="text-align:center;">增加月份</td></tr> <tr><td style="text-align:center;">plusDays(long days)</td> <td style="text-align:center;"><code>LocalDate</code>，<br><code>LocalDateTime</code></td> <td style="text-align:center;">增加天数</td></tr> <tr><td style="text-align:center;">plusHours(long hours)</td> <td style="text-align:center;"><code>LocalDate</code>，<br><code>LocalTime</code>，<br><code>LocalDateTime</code></td> <td style="text-align:center;">增加小时</td></tr> <tr><td style="text-align:center;">plusMinute(long minute)</td> <td style="text-align:center;"><code>LocalDate</code>，<br><code>LocalTime</code>，<br><code>LocalDateTime</code></td> <td style="text-align:center;">增加分钟</td></tr> <tr><td style="text-align:center;">plusSeconds(long seconds)</td> <td style="text-align:center;"><code>LocalDate</code>，<br><code>LocalTime</code>，<br><code>LocalDateTime</code></td> <td style="text-align:center;">增加秒</td></tr> <tr><td style="text-align:center;">minusYears(long years)</td> <td style="text-align:center;"><code>LocalDate</code>，<br><code>LocalDateTime</code></td> <td style="text-align:center;">减去年份</td></tr> <tr><td style="text-align:center;">minusMonths(long months)</td> <td style="text-align:center;"><code>LocalDate</code>，<br><code>LocalDateTime</code></td> <td style="text-align:center;">减去月份</td></tr> <tr><td style="text-align:center;">getYear()</td> <td style="text-align:center;"><code>int</code></td> <td style="text-align:center;">获取年份，LocalTime只获取时间，<br>所以没有这个方法</td></tr> <tr><td style="text-align:center;">getMonthValue()</td> <td style="text-align:center;"><code>int</code></td> <td style="text-align:center;">获取月份，LocalTime实例没有这个方法</td></tr> <tr><td style="text-align:center;">getDayOfMonth()</td> <td style="text-align:center;"><code>int</code></td> <td style="text-align:center;">一个月中的第几天，也就是日。LocalTime实例没有这个方法</td></tr> <tr><td style="text-align:center;">getHour()</td> <td style="text-align:center;"><code>int</code></td> <td style="text-align:center;">获取小时</td></tr> <tr><td style="text-align:center;">getMinute()</td> <td style="text-align:center;"><code>int</code></td> <td style="text-align:center;">获取分钟</td></tr> <tr><td style="text-align:center;">getSecond()</td> <td style="text-align:center;"><code>int</code></td> <td style="text-align:center;">获取秒</td></tr> <tr><td style="text-align:center;">getDayOfYear()</td> <td style="text-align:center;"><code>int</code></td> <td style="text-align:center;">当前时间是一年中的第几天,LocalTime实例没有这个方法</td></tr> <tr><td style="text-align:center;">getDayOfWeek()</td> <td style="text-align:center;"><code>DayOfWeek</code></td> <td style="text-align:center;">获取周几，直接打印返回值是英文周几，返回的<code>DayOfWeek</code>对象中有getValue()方法可以获取数字周几，同时还有puls()和minus()方法</td></tr> <tr><td style="text-align:center;">compareTo(ChronoLocalDateTime&lt;?&gt; other)</td> <td style="text-align:center;"><code>int</code></td> <td style="text-align:center;">比较两个<code>LocalDateTime</code>的大小，大于返回<code>正数</code>，等于返回<code>0</code>，小于返回<code>负数</code></td></tr> <tr><td style="text-align:center;">compareTo(ChronoLocalDate other)</td> <td style="text-align:center;">int</td> <td style="text-align:center;">比较两个<code>LocalDate</code>的大小，大于返回<code>正数</code>，等于返回<code>0</code>，小于返回<code>负数</code></td></tr> <tr><td style="text-align:center;">equals(Object ob)</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">判断日期是否相同</td></tr> <tr><td style="text-align:center;">toSecondOfDay()</td> <td style="text-align:center;"><code>int</code></td> <td style="text-align:center;">将时间提取为秒，从0到24 * 60 * 60 - 1。</td></tr></tbody></table> <h2 id="duration"><a href="#duration" class="header-anchor">#</a> Duration</h2> <p>计算两个时间的时间差</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Duration.between(开始时间,结束时间);</p> <p>返回值是一个Duration</p></div> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">LocalDateTime</span> now1 <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 计算两个时间之间的间隔</span>
        <span class="token class-name">Duration</span> between <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>now1<span class="token punctuation">,</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 间隔几分钟</span>
        <span class="token keyword">long</span> l <span class="token operator">=</span> between<span class="token punctuation">.</span><span class="token function">toMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><table><thead><tr><th style="text-align:center;">方法</th> <th style="text-align:center;">返回值</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td style="text-align:center;">Duration.between(Temporal startInclusive, Temporal endExclusive)</td> <td style="text-align:center;">Duration</td> <td style="text-align:center;">计算两个时间之间的间隔</td></tr> <tr><td style="text-align:center;">toDays()</td> <td style="text-align:center;">long</td> <td style="text-align:center;">间隔天数</td></tr> <tr><td style="text-align:center;">toHours()</td> <td style="text-align:center;">long</td> <td style="text-align:center;">间隔小时数</td></tr> <tr><td style="text-align:center;">toMinutes()</td> <td style="text-align:center;">long</td> <td style="text-align:center;">间隔分钟</td></tr> <tr><td style="text-align:center;">getSeconds()</td> <td style="text-align:center;">long</td> <td style="text-align:center;">间隔秒数</td></tr> <tr><td style="text-align:center;">toMillis()</td> <td style="text-align:center;">long</td> <td style="text-align:center;">间隔毫秒</td></tr> <tr><td style="text-align:center;">toNanos()</td> <td style="text-align:center;">long</td> <td style="text-align:center;">间隔纳秒</td></tr></tbody></table> <p>还有计算的方法，和LocalDateTime是一样的，就不说了</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>plusNanos()，plusMillis()，plusSeconds()，plusMinutes()，plusHours()，plusDays()</p> <p>minusNanos()，minusMillis()，minusSeconds()，minusMinutes()，minusHours()，minusDays()</p></div> <h2 id="temporaladjuster-时间校正器"><a href="#temporaladjuster-时间校正器" class="header-anchor">#</a> TemporalAdjuster(时间校正器)</h2> <p>java 8 引入了新的日期、时间库————即java.time包，TemporalAdjuster 类是其中之一。简而言之，TemporalAdjuster 类是调整Temporal对象的策略。</p> <p>TemporalAdjuster 是函数接口，在TemporalAdjusters 类中有很多预定义的实现。可以执行复杂的日期操作，例如，可以获得下一个星期日对于日期、当月的最后一天、下一年的第一天。</p> <p>TemporalAdjusters类有很多预定义的static方法返回TemporalAdjuster对象，使用不同方式调节Temporal对象而与Temporal实现无关。</p> <p>下面列举部分方法及其定义描述：</p> <table><thead><tr><th style="text-align:center;">方法</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td style="text-align:center;">dayOfWeekInMonth(int ordinal, DayOfWeek dayOfWeek)</td> <td style="text-align:center;">同一个月中第几个周几的时间</td></tr> <tr><td style="text-align:center;">firstDayOfMonth()</td> <td style="text-align:center;">返回当月的第一天</td></tr> <tr><td style="text-align:center;">firstDayOfNextMonth()</td> <td style="text-align:center;">返回下月的第一天</td></tr> <tr><td style="text-align:center;">firstDayOfNextYear()</td> <td style="text-align:center;">返回下年的第一天</td></tr> <tr><td style="text-align:center;">firstDayOfYear()</td> <td style="text-align:center;">返回本年的第一天</td></tr> <tr><td style="text-align:center;">firstInMonth(DayOfWeek dayOfWeek)</td> <td style="text-align:center;">本月的第一个星期几的时间</td></tr> <tr><td style="text-align:center;">lastDayOfMonth()</td> <td style="text-align:center;">返回当月的最后一天</td></tr> <tr><td style="text-align:center;">lastDayOfNextMonth()</td> <td style="text-align:center;">返回下月的最后一天</td></tr> <tr><td style="text-align:center;">lastDayOfNextYear()</td> <td style="text-align:center;">返回下一年的最后一天</td></tr> <tr><td style="text-align:center;">lastDayOfYear()</td> <td style="text-align:center;">返回本年的最后一天</td></tr> <tr><td style="text-align:center;">lastInMonth(DayOfWeek dayOfWeek)</td> <td style="text-align:center;">返回同一个月中最后一个星期几</td></tr> <tr><td style="text-align:center;">next / previous (DayOfWeek dayOfWeek)</td> <td style="text-align:center;">返回后一个/前一个给定的星期几</td></tr> <tr><td style="text-align:center;">nextOrSame (DayOfWeek dayOfWeek)</td> <td style="text-align:center;">下一个与dayOfWeek相同的时间，包括当前时间</td></tr> <tr><td style="text-align:center;">previousOrSame(DayOfWeek dayOfWeek)</td> <td style="text-align:center;">上一个与dayOfWeek相同的时间，包括当前时间</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">LocalDateTime</span> dateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取这个月的第二个周一的时间</span>
    <span class="token class-name">LocalDateTime</span> with1 <span class="token operator">=</span> dateTime<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">dayOfWeekInMonth</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>MONDAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>with1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 上个月最后一个星期一，第一个参数为0时，是上个月最后的星期几</span>
    <span class="token class-name">LocalDateTime</span> with2 <span class="token operator">=</span> dateTime<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">dayOfWeekInMonth</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>MONDAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>with2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 这个月的倒数第二个周日，第一个参数为负数 这个月的倒数星期几</span>
    <span class="token class-name">LocalDateTime</span> with3 <span class="token operator">=</span> dateTime<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">dayOfWeekInMonth</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>SUNDAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>with3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

结果：
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">12</span>T00<span class="token operator">:</span><span class="token number">49</span><span class="token operator">:</span><span class="token number">22.684</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">28</span>T00<span class="token operator">:</span><span class="token number">49</span><span class="token operator">:</span><span class="token number">22.684</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">18</span>T00<span class="token operator">:</span><span class="token number">49</span><span class="token operator">:</span><span class="token number">22.684</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">LocalDate</span> of <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 下一个也是周日的日期，包括当前日期。</span>
    <span class="token class-name">LocalDate</span> with1 <span class="token operator">=</span> of<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">nextOrSame</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>SUNDAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>with1<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 下一个也是周一的日期</span>
    <span class="token class-name">LocalDate</span> with2 <span class="token operator">=</span> of<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">nextOrSame</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>MONDAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>with2<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">// 上一个也是周日的日期，包括当前日期。</span>
    <span class="token class-name">LocalDate</span> with8 <span class="token operator">=</span> of<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">previousOrSame</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>SUNDAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>with8<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">// 上一个也是周一的日期</span>
    <span class="token class-name">LocalDate</span> with9 <span class="token operator">=</span> of<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">previousOrSame</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>MONDAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>with9<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>

结果：
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">25</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">26</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">25</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">19</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="自定义"><a href="#自定义" class="header-anchor">#</a> 自定义</h3> <p><code>TemporalAdjuster</code>是一个函数式接口，所以可以使用lambda表达式，自定义时间校正器</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">LocalDateTime</span> dateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 自定义校正器：下一个工作日</span>
    <span class="token class-name">LocalDateTime</span> with2 <span class="token operator">=</span> dateTime<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span>l <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">LocalDateTime</span> l1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">)</span> l<span class="token punctuation">;</span>
        <span class="token class-name">DayOfWeek</span> dayOfWeek <span class="token operator">=</span> l1<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>dayOfWeek<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>FRIDAY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> l1<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>dayOfWeek<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>SATURDAY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> l1<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> l1<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="格式化时间-日期"><a href="#格式化时间-日期" class="header-anchor">#</a> 格式化时间/日期</h2> <p>上面全是<code>ISO标准日历</code>格式的的日期和时间，当我们需要自定义日期和时间的格式时可以使用，<code>DateTimeFormatter</code>。</p> <p><strong>1.字符串转换成日期时间类型</strong></p> <p>类名.parse</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// String --&gt; LocalDate</span>
    <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2021-07-25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// String --&gt; LocalTime</span>
    <span class="token class-name">LocalTime</span> localTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;07:43:53&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// String --&gt;LocalDateTime</span>
    <span class="token class-name">DateTimeFormatter</span> formatter2 <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LocalDateTime</span> parse <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2021-07-25 15:34:55&quot;</span><span class="token punctuation">,</span> formatter2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>localDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>localTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parse<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

结果：
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">25</span>
<span class="token number">07</span><span class="token operator">:</span><span class="token number">43</span><span class="token operator">:</span><span class="token number">53</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">25</span>T15<span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">55</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>2.日期时间类型转换成字符串</strong></p> <p>内置格式使用<code>日期对象.format()</code></p> <p>自定义使用<code>localDateTime.format</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test10</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//localDate --&gt; String</span>
    <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> format1 <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span>BASIC_ISO_DATE<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//yyyyMMdd</span>
    <span class="token class-name">String</span> format2 <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span>ISO_DATE<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//yyyy-MM-dd</span>


    <span class="token comment">//2.LocalTime  --&gt; String</span>
    <span class="token class-name">LocalTime</span> localTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> format3 <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span>ISO_TIME<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//20:19:22.42</span>
    <span class="token class-name">DateTimeFormatter</span> formatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;hh:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> format4 <span class="token operator">=</span> localTime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formatter<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//3.LocalDateTime  --&gt; String</span>
    <span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">DateTimeFormatter</span> formatter2 <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy年MM月dd日 HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> format5 <span class="token operator">=</span> localDateTime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formatter2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format4<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format5<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

结果：
<span class="token number">20210725</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">25</span>
<span class="token number">15</span><span class="token operator">:</span><span class="token number">43</span><span class="token operator">:</span><span class="token number">45.551</span>
<span class="token number">03</span><span class="token operator">:</span><span class="token number">43</span><span class="token operator">:</span><span class="token number">45</span>
<span class="token number">2021</span>年<span class="token number">07</span>月<span class="token number">25</span>日 <span class="token number">15</span><span class="token operator">:</span><span class="token number">43</span><span class="token operator">:</span><span class="token number">45</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">7/25/2021, 7:46:56 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/view/Java/jdk8/CollectorsApi.html" class="prev">
        Collectors其他方法
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.87e13738.js" defer></script><script src="/assets/js/2.9f0304db.js" defer></script><script src="/assets/js/10.ebdfe297.js" defer></script><script src="/assets/js/3.5bf914f4.js" defer></script>
  </body>
</html>
