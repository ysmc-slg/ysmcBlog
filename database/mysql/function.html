<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css"><meta name="theme-color" content="#ffffff"><meta name="google-site-verification" content=""><title>单行函数 | 余生慢尝</title><meta name="description" content="单行函数">
    <link rel="modulepreload" href="/assets/app.d3ff5e53.js"><link rel="modulepreload" href="/assets/function.html.c50a90ca.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.5a098b48.js"><link rel="modulepreload" href="/assets/function.html.f0076ee5.js">
    <link rel="stylesheet" href="/assets/style.bde21de7.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container" data-v-3a25be96><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">余生慢尝</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/database/redis/" class="nav-link" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><a href="/database/mysql/" class="nav-link router-link-active" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/database/mysql/senior/" class="nav-link" aria-label="高级部分"><!--[--><!--]--> 高级部分 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="java系"><span class="title">java系</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="java系"><span class="title">java系</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/java/basics/" class="nav-link" aria-label="java基础"><!--[--><!--]--> java基础 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/java/jdk8/" class="nav-link" aria-label="Java8新特性"><!--[--><!--]--> Java8新特性 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/java/reflection/" class="nav-link" aria-label="java反射"><!--[--><!--]--> java反射 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="MQ"><span class="title">MQ</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="MQ"><span class="title">MQ</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/mq/rabbitmq/" class="nav-link" aria-label="rabbitMQ"><!--[--><!--]--> rabbitMQ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="解决方案"><span class="title">解决方案</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="解决方案"><span class="title">解决方案</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/solution/dyanmicDataSource/" class="nav-link" aria-label="自定义动态数据源"><!--[--><!--]--> 自定义动态数据源 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/solution/log/" class="nav-link" aria-label="自定义日志注解"><!--[--><!--]--> 自定义日志注解 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/solution/asyncManager/" class="nav-link" aria-label="异步管理器"><!--[--><!--]--> 异步管理器 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="SSM"><span class="title">SSM</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="SSM"><span class="title">SSM</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/ssm/spring/" class="nav-link" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/ssm/springmvc/" class="nav-link" aria-label="SpringMVC"><!--[--><!--]--> SpringMVC <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/ssm/mybatis/" class="nav-link" aria-label="Mybatis"><!--[--><!--]--> Mybatis <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/ssm/integration/" class="nav-link" aria-label="SSM整合"><!--[--><!--]--> SSM整合 <!--[--><!--]--></a></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>高级部分</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/ssm/ssm-senior/spring/" class="nav-link" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/ssm/ssm-senior/springmvc/" class="nav-link" aria-label="SpringMVC"><!--[--><!--]--> SpringMVC <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/springboot/" class="nav-link" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/springsecurity2/" class="nav-link" aria-label="SpringSecirity"><!--[--><!--]--> SpringSecirity <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/Front-end/es6/" class="nav-link" aria-label="ES6新特性"><!--[--><!--]--> ES6新特性 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/Front-end/vue/" class="nav-link" aria-label="VueJS"><!--[--><!--]--> VueJS <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="常用文档"><span class="title">常用文档</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="常用文档"><span class="title">常用文档</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://element.eleme.cn/#/zh-CN/component/table" rel="noopener noreferrer" target="_blank" aria-label="elementUI"><!--[--><!--]--> elementUI <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://cn.vuejs.org/v2/guide/" rel="noopener noreferrer" target="_blank" aria-label="Vue文档"><!--[--><!--]--> Vue文档 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="http://momentjs.cn/docs/" rel="noopener noreferrer" target="_blank" aria-label="momentjs"><!--[--><!--]--> momentjs <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="http://easypoi.mydoc.io/" rel="noopener noreferrer" target="_blank" aria-label="EasyPoi文档"><!--[--><!--]--> EasyPoi文档 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="开发工具类"><span class="title">开发工具类</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="开发工具类"><span class="title">开发工具类</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/utils/stringutils/" class="nav-link" aria-label="StringUtils"><!--[--><!--]--> StringUtils <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--[--><a class="icon-button" href="https://github.com/ysmc-slg/ysmcBlog" target="_blank" aria-label="View GitHub Repo" data-v-3a25be96><!----></a><!--]--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/database/redis/" class="nav-link" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><a href="/database/mysql/" class="nav-link router-link-active" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/database/mysql/senior/" class="nav-link" aria-label="高级部分"><!--[--><!--]--> 高级部分 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="java系"><span class="title">java系</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="java系"><span class="title">java系</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/java/basics/" class="nav-link" aria-label="java基础"><!--[--><!--]--> java基础 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/java/jdk8/" class="nav-link" aria-label="Java8新特性"><!--[--><!--]--> Java8新特性 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/java/reflection/" class="nav-link" aria-label="java反射"><!--[--><!--]--> java反射 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="MQ"><span class="title">MQ</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="MQ"><span class="title">MQ</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/mq/rabbitmq/" class="nav-link" aria-label="rabbitMQ"><!--[--><!--]--> rabbitMQ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="解决方案"><span class="title">解决方案</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="解决方案"><span class="title">解决方案</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/solution/dyanmicDataSource/" class="nav-link" aria-label="自定义动态数据源"><!--[--><!--]--> 自定义动态数据源 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/solution/log/" class="nav-link" aria-label="自定义日志注解"><!--[--><!--]--> 自定义日志注解 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/solution/asyncManager/" class="nav-link" aria-label="异步管理器"><!--[--><!--]--> 异步管理器 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="SSM"><span class="title">SSM</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="SSM"><span class="title">SSM</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/ssm/spring/" class="nav-link" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/ssm/springmvc/" class="nav-link" aria-label="SpringMVC"><!--[--><!--]--> SpringMVC <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/ssm/mybatis/" class="nav-link" aria-label="Mybatis"><!--[--><!--]--> Mybatis <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/ssm/integration/" class="nav-link" aria-label="SSM整合"><!--[--><!--]--> SSM整合 <!--[--><!--]--></a></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>高级部分</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/ssm/ssm-senior/spring/" class="nav-link" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/ssm/ssm-senior/springmvc/" class="nav-link" aria-label="SpringMVC"><!--[--><!--]--> SpringMVC <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/springboot/" class="nav-link" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/springsecurity2/" class="nav-link" aria-label="SpringSecirity"><!--[--><!--]--> SpringSecirity <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/Front-end/es6/" class="nav-link" aria-label="ES6新特性"><!--[--><!--]--> ES6新特性 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/Front-end/vue/" class="nav-link" aria-label="VueJS"><!--[--><!--]--> VueJS <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="常用文档"><span class="title">常用文档</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="常用文档"><span class="title">常用文档</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://element.eleme.cn/#/zh-CN/component/table" rel="noopener noreferrer" target="_blank" aria-label="elementUI"><!--[--><!--]--> elementUI <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://cn.vuejs.org/v2/guide/" rel="noopener noreferrer" target="_blank" aria-label="Vue文档"><!--[--><!--]--> Vue文档 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="http://momentjs.cn/docs/" rel="noopener noreferrer" target="_blank" aria-label="momentjs"><!--[--><!--]--> momentjs <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="http://easypoi.mydoc.io/" rel="noopener noreferrer" target="_blank" aria-label="EasyPoi文档"><!--[--><!--]--> EasyPoi文档 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="开发工具类"><span class="title">开发工具类</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="开发工具类"><span class="title">开发工具类</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/utils/stringutils/" class="nav-link" aria-label="StringUtils"><!--[--><!--]--> StringUtils <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active">MYSQL</p><ul class=""><li><!--[--><a href="/database/mysql/" class="nav-link router-link-active sidebar-item" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/database/mysql/multitable.html" class="nav-link sidebar-item" aria-label="多表查询"><!--[--><!--]--> 多表查询 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/database/mysql/limit.html" class="nav-link sidebar-item" aria-label="分页"><!--[--><!--]--> 分页 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/database/mysql/function.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="单行函数"><!--[--><!--]--> 单行函数 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/database/mysql/function.html#常用数值函数" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="常用数值函数"><!--[--><!--]--> 常用数值函数 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/database/mysql/function.html#字符串函数" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="字符串函数"><!--[--><!--]--> 字符串函数 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/database/mysql/function.html#日期和时间函数" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="日期和时间函数"><!--[--><!--]--> 日期和时间函数 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/database/mysql/function.html#获取日期、时间" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="获取日期、时间"><!--[--><!--]--> 获取日期、时间 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/database/mysql/function.html#日期与时间戳的转换" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="日期与时间戳的转换"><!--[--><!--]--> 日期与时间戳的转换 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/database/mysql/function.html#月份、星期、星期数、天数等函数" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="月份、星期、星期数、天数等函数"><!--[--><!--]--> 月份、星期、星期数、天数等函数 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/database/mysql/function.html#extract-函数" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="extract 函数"><!--[--><!--]--> extract 函数 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/database/mysql/function.html#计算日期和时间的函数" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="计算日期和时间的函数"><!--[--><!--]--> 计算日期和时间的函数 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/database/mysql/function.html#日期的格式化和解析" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="日期的格式化和解析"><!--[--><!--]--> 日期的格式化和解析 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/database/mysql/function.html#流程处理函数" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="流程处理函数"><!--[--><!--]--> 流程处理函数 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/database/mysql/aggregateFunction.html" class="nav-link sidebar-item" aria-label="聚合函数"><!--[--><!--]--> 聚合函数 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/database/mysql/subquery.html" class="nav-link sidebar-item" aria-label="子查询"><!--[--><!--]--> 子查询 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/database/mysql/view.html" class="nav-link sidebar-item" aria-label="视图"><!--[--><!--]--> 视图 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/database/mysql/storedProcedure.html" class="nav-link sidebar-item" aria-label="存储过程"><!--[--><!--]--> 存储过程 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page" data-v-3a25be96><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="单行函数" tabindex="-1"><a class="header-anchor" href="#单行函数" aria-hidden="true">#</a> 单行函数</h1><h2 id="常用数值函数" tabindex="-1"><a class="header-anchor" href="#常用数值函数" aria-hidden="true">#</a> 常用数值函数</h2><div class="language-sql ext-sql"><pre class="language-sql"><code>
<span class="token comment">-- 1. ABS(x) 返回 x 的绝对值</span>
<span class="token keyword">SELECT</span> ABS<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ABS<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token keyword">from</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 2. sign(x) 返回X的符号。正数返回1，负数返回-1，0返回0</span>
<span class="token keyword">SELECT</span> SIGN<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SIGN<span class="token punctuation">(</span><span class="token number">43</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 3. pi() 返回圆周率的值</span>
<span class="token keyword">SELECT</span> PI<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 4. ceil(x)，ceiling(x) 向上取整，如果 x 是整数，返回值就是 x</span>
<span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token number">32.32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CEILING<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">43.23</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CEIL<span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 5. floor(x) 向下取整，如果 x 是整数，返回值就是 x</span>
<span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token number">32.32</span><span class="token punctuation">)</span><span class="token punctuation">,</span> FLOOR<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">43.23</span><span class="token punctuation">)</span><span class="token punctuation">,</span>FLOOR<span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 6. least(e1,e2,e3...) 返回列表中的最小值</span>
<span class="token keyword">SELECT</span> LEAST<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 7. greatest(e1,e2,e3...) 返回列表中的最大值</span>
<span class="token keyword">SELECT</span> greatest<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 8. mod(x,y) 返回 x 除以 y 后的余数</span>
<span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 9. rand() 返回 0 ~ 1 的随机值。</span>
<span class="token keyword">SELECT</span> RAND<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 10. rand(x) 返回 0 ~ 1 的随机值，其中 x 的值用作种子值，相同的 x 值会产生相同的随机数</span>
<span class="token keyword">SELECT</span> RAND<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>RAND<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 11. round(x) 四舍五入，取整</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">22.45</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">22.78</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 12. round(x,y) 四舍五入，并保留到小数点后 y 位</span>
<span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">22.454</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">22.78</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 13. truncate(x,y) 返回数字x截断为y位小数的结果</span>
<span class="token keyword">SELECT</span> <span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span><span class="token number">22.458</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
</code></pre></div><h2 id="字符串函数" tabindex="-1"><a class="header-anchor" href="#字符串函数" aria-hidden="true">#</a> 字符串函数</h2><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- 1. ascll(s) 返回字符串中第一个字符的 ASCLL 码值</span>
<span class="token keyword">SELECT</span> ASCII<span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ASCII<span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 2. concat(s1,s2,s3...) 连接s1,s2,s3为一个字符串</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">&#39;你好&#39;</span><span class="token punctuation">,</span>first_name<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">-- 3. concat_ws(x,s1,s2...) 同CONCAT(s1,s2,...)函数，但是每个字符串之间要加上x</span>
<span class="token keyword">SELECT</span> CONCAT_WS<span class="token punctuation">(</span><span class="token string">&#39;-&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;你好&#39;</span><span class="token punctuation">,</span>first_name<span class="token punctuation">,</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span> 

<span class="token comment">-- 4. insert(str,idx,len,replacestr) 将字符串str从第idx位置开始，len个字符长的子串替换为字符串replacestr。注意：索引从 1 开始</span>
<span class="token keyword">SELECT</span> <span class="token keyword">INSERT</span><span class="token punctuation">(</span><span class="token string">&#39;hello_mysql&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&#39;你好&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 5. replace(str,a,b) 用字符串b替换字符串str中所有出现的字符串a</span>
<span class="token keyword">SELECT</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span><span class="token string">&#39;hello_mysql&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;l&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 6. upper(s) 或 ucase(s) 将字符串s的所有字母转成大写</span>
<span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">&#39;hello_mysql&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 7. lower(s) 或 lcase(s) 将字符串s的所有字母转成小写</span>
<span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">&#39;HELLO_MYSQL&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 8. left(str,n) 返回字符串 str 最左边的 n 个字符</span>
<span class="token keyword">SELECT</span> <span class="token keyword">LEFT</span><span class="token punctuation">(</span><span class="token string">&#39;hello_mysql&#39;</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 9. right(str,n) 返回字符串 str 最右边的 n 个字符</span>
<span class="token keyword">SELECT</span> <span class="token keyword">RIGHT</span><span class="token punctuation">(</span><span class="token string">&#39;hello_mysql&#39;</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 10. lpad(str,len,pad) 用字符串pad对str最左边进行填充，直到str的长度为len个字符</span>
<span class="token keyword">SELECT</span> LPAD<span class="token punctuation">(</span><span class="token string">&#39;hello_mysql&#39;</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">&#39;?&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 11. rpad(str,len,pad) 用字符串pad对str最右边进行填充，直到str的长度为len个字符</span>
<span class="token keyword">SELECT</span> RPAD<span class="token punctuation">(</span><span class="token string">&#39;hello_mysql&#39;</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">&#39;?&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 12. ltrim(s) 去掉字符串s左侧的空格</span>
<span class="token keyword">SELECT</span> LTRIM<span class="token punctuation">(</span><span class="token string">&#39;  _hello&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 13. rtrim(s) 去掉字符串s右侧的空格</span>
<span class="token keyword">SELECT</span> RTRIM<span class="token punctuation">(</span><span class="token string">&#39;hello_  &#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 14. trim(s) 去掉字符串s，开始与结尾的空格</span>
<span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">&#39;  _hello_  &#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 15. trim(s1 from s) 去掉字符串s中，开始与结尾的 s1</span>
<span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">&#39;_&#39;</span> <span class="token keyword">FROM</span> <span class="token string">&#39;_hello_&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 16. trim(leading s1 from s) 去掉字符串s，开始处的s1</span>
<span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span>LEADING <span class="token string">&#39;_&#39;</span> <span class="token keyword">FROM</span> <span class="token string">&#39;_hello_&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 16. trim(trailing s1 from s) 去掉字符串s，结尾处的s1</span>
<span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span>TRAILING <span class="token string">&#39;_&#39;</span> <span class="token keyword">FROM</span> <span class="token string">&#39;_hello_&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 17. repeat(str,n) 返回 str 重复 n 次的结果</span>
<span class="token keyword">SELECT</span> <span class="token keyword">REPEAT</span><span class="token punctuation">(</span><span class="token string">&#39;hello,&#39;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 18. SPACE(n) 返回 n 个空格</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span>SPACE<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;mysql&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 19. nullif(value1,value2) 比较两个字符串，如果value1与value2相等，则返回NULL，否则返回value1</span>

<span class="token keyword">SELECT</span> <span class="token keyword">NULLIF</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">NULLIF</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;hi&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
</code></pre></div><h2 id="日期和时间函数" tabindex="-1"><a class="header-anchor" href="#日期和时间函数" aria-hidden="true">#</a> 日期和时间函数</h2><h3 id="获取日期、时间" tabindex="-1"><a class="header-anchor" href="#获取日期、时间" aria-hidden="true">#</a> 获取日期、时间</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- 1. curdate()，current_date() 返回当前日期，只包含 年、月、日</span>
<span class="token keyword">SELECT</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">current_date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 2. curtime()，current_time() 返回当前时间，只包含时、分秒</span>
<span class="token keyword">SELECT</span> CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">CURRENT_TIME</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 3. now()/SYSDATE()/CURRENT_TIMESTAMP()/LOCALTIME()/LOCALTIMESTAMP() 返回当前系统日期和时间</span>
<span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 4. utc_date() 返回 UTC（世界标准时间）日期</span>
<span class="token keyword">SELECT</span> UTC_DATE<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 5. utc_date() 返回 UTC（世界标准时间）时间</span>
<span class="token keyword">SELECT</span> UTC_TIME<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
</code></pre></div><h3 id="日期与时间戳的转换" tabindex="-1"><a class="header-anchor" href="#日期与时间戳的转换" aria-hidden="true">#</a> 日期与时间戳的转换</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- 1. unix_timestamp() 以UNIX时间戳的形式返回当前时间。</span>
<span class="token keyword">SELECT</span> UNIX_TIMESTAMP<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 2. unix_timestamp(date) 将时间date以UNIX时间戳的形式返回。</span>
<span class="token keyword">SELECT</span> UNIX_TIMESTAMP<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> UNIX_TIMESTAMP<span class="token punctuation">(</span><span class="token string">&#39;2022-9-20 12:19:23&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 3. FROM_UNIXTIME(timestamp) 将UNIX时间戳的时间转换为普通格式的时间</span>
<span class="token keyword">SELECT</span> FROM_UNIXTIME<span class="token punctuation">(</span><span class="token number">1663647563</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
</code></pre></div><h3 id="月份、星期、星期数、天数等函数" tabindex="-1"><a class="header-anchor" href="#月份、星期、星期数、天数等函数" aria-hidden="true">#</a> 月份、星期、星期数、天数等函数</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- 1. year(date)/month(date)/day(date) 返回具体的日期值</span>
<span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">DAY</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 2. hour(time)/minute(time)/second(time) 返回具体的是时间值</span>
<span class="token keyword">SELECT</span> <span class="token keyword">HOUR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">minute</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">SECOND</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 3. monthname(date) 返回月份（英文）：January</span>
<span class="token keyword">SELECT</span> MONTHNAME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 4. dayname(date) 返回星期几：Monday，Tuesday...Sunday</span>
<span class="token keyword">SELECT</span> DAYNAME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 5. quarter(date) 返回日期对应的季度，范围为 1~4</span>
<span class="token keyword">SELECT</span> QUARTER<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 6. weekday(date) 返回周几，注意周一是0，周二是1，... 周日是6</span>
<span class="token keyword">SELECT</span> WEEKDAY<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 7. week(date)，weekofyear(date) 返回一年中的第几周</span>
<span class="token keyword">SELECT</span> WEEK<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>WEEKOFYEAR<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> WEEK<span class="token punctuation">(</span><span class="token string">&#39;2022-9-20 12:23:45&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>WEEKOFYEAR<span class="token punctuation">(</span><span class="token string">&#39;2022-9-17 11:23:45&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 8. dayofyear(now()) 返回日期是一年中的第几天</span>
<span class="token keyword">SELECT</span> DAYOFYEAR<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 9. DAYOFMONTH(date) 返回日期位于所在月份的第几天</span>
<span class="token keyword">SELECT</span> DAYOFMONTH<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token comment">-- 10. 返回周几，注意：周日是1，周一是2，。。。周六是7</span>
<span class="token keyword">select</span> DAYOFWEEK<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
</code></pre></div><h3 id="extract-函数" tabindex="-1"><a class="header-anchor" href="#extract-函数" aria-hidden="true">#</a> extract 函数</h3><p>extract(type from date) 返回指定日期中特定的部分，type 指定返回的值。</p><p>extract(type from date) 函数中 <code>type</code> 的取值与含义：</p><table><thead><tr><th>type 值</th><th>描述</th></tr></thead><tbody><tr><td>MICROSECOND</td><td>毫秒</td></tr><tr><td>SECOND</td><td>秒</td></tr><tr><td>HOUR</td><td>小时</td></tr><tr><td>DAY</td><td>天</td></tr><tr><td>WEEK</td><td>一年中的第几个星期</td></tr><tr><td>MONTH</td><td>一年中的第几个月</td></tr><tr><td>QUARTER</td><td>一年中的第几个季度</td></tr><tr><td>YEAR</td><td>年份</td></tr><tr><td>SECOND_MICROSECOND</td><td>得到的是秒+毫秒</td></tr><tr><td>MINUTE_MICROSECOND</td><td>得到的是分+秒+毫秒</td></tr><tr><td>MINUTE_SECOND</td><td>得到的是分+秒</td></tr><tr><td>HOUR_MICROSECOND</td><td>得到的是小时+分+秒+毫秒</td></tr><tr><td>HOUR_SECOND</td><td>得到的是小时+分+秒</td></tr><tr><td>HOUR_MINUTE</td><td>得到的是小时+分</td></tr><tr><td>DAY_MICROSECOND</td><td>得到的是小时+分+秒+毫秒</td></tr><tr><td>DAY_SECOND</td><td>得到的是小时+分+秒</td></tr><tr><td>DAY_MINUTE</td><td>得到的是小时+分</td></tr><tr><td>DAY_HOUR</td><td>得到的是小时</td></tr><tr><td>YEAR_MONTH</td><td>得到的是年+月</td></tr></tbody></table><h3 id="计算日期和时间的函数" tabindex="-1"><a class="header-anchor" href="#计算日期和时间的函数" aria-hidden="true">#</a> 计算日期和时间的函数</h3><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>DATE_ADD(datetime,INTERVAL expr type)</td><td>返回给定日期时间差 INTERVAL 时间段的日期时间</td></tr><tr><td>DATE_SUB(date,INTERVAL expr type)</td><td>返回与date相差INTERVAL时间间隔的日期</td></tr></tbody></table><p>上述函数中 type 的取值：</p><table><thead><tr><th>间隔类型</th><th>含义</th></tr></thead><tbody><tr><td>HOUR</td><td>小时</td></tr><tr><td>MINUTE</td><td>分钟</td></tr><tr><td>SECOND</td><td>秒</td></tr><tr><td>YEAR</td><td>年</td></tr><tr><td>QUARTER</td><td>季度</td></tr><tr><td>MONTH</td><td>月</td></tr><tr><td>DAY</td><td>日</td></tr><tr><td>YEAR_MONTH</td><td>年和月</td></tr><tr><td>DAY_HOUR</td><td>日和小时</td></tr><tr><td>DAY_MINUTE</td><td>日和分钟</td></tr><tr><td>DAY_SECOND</td><td>日和秒</td></tr><tr><td>HOUR_MINUTE</td><td>小时和分钟</td></tr><tr><td>HOUR_SECOND</td><td>小时和秒</td></tr><tr><td>MINUTE_SECOND</td><td>分钟和秒</td></tr></tbody></table><p>案例：</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token string">&#39;2021-01-21 02:01:01&#39;</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">HOUR</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token string">&#39;2021-01-21 02:01:01&#39;</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token string">&#39;2021-01-21 02:01:01&#39;</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token string">&#39;1 2&#39;</span> YEAR_MONTH<span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> DATE_SUB<span class="token punctuation">(</span><span class="token string">&#39;2021-01-21 02:01:01&#39;</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">HOUR</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> DATE_SUB<span class="token punctuation">(</span><span class="token string">&#39;2021-01-21 02:01:01&#39;</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> DATE_SUB<span class="token punctuation">(</span><span class="token string">&#39;2021-01-21 02:01:01&#39;</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token string">&#39;1 1&#39;</span> DAY_HOUR<span class="token punctuation">)</span> <span class="token keyword">AS</span> col3 <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
</code></pre></div><p>注意：</p><p><strong>在使用两种条件时，中间要加空格</strong></p><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>ADDTIME(time1,time2)</td><td>返回time1加上time2的时间。当time2为一个数字时，代表的是秒 ，可以为负数</td></tr><tr><td>SUBTIME(time1,time2)</td><td>返回time1减去time2后的时间。当time2为一个数字时，代表的是秒 ，可以为负数</td></tr><tr><td>DATEDIFF(date1,date2)</td><td>返回date1-date2 的日期间隔天数</td></tr><tr><td>TIMEDIFF(time1,time2)</td><td>返回date1-date2的时间间隔</td></tr><tr><td>PERIOD_DIFF(period1, period2)</td><td>返回两个时间相差的月份数，period1-period2，两个参数的格式 是 YYMM或YYYYMM</td></tr><tr><td>FROM_DAYS(N)</td><td>返回从0000年1月1日起，N天以后的日期</td></tr><tr><td>TO_DAYS(date)</td><td>返回日期date距离0000年1月1日的天数</td></tr><tr><td>LAST_DAY(date)</td><td>返回date所在月份的最后一天的日期</td></tr><tr><td>MAKEDATE(year,n)</td><td>针对给定年份与所在年份中的天数返回一个日期</td></tr><tr><td>MAKETIME(hour,minute,second)</td><td>将给定的小时、分钟和秒组合成时间并返回</td></tr><tr><td>PERIOD_ADD(time,n)</td><td>返回time加上n后的时间</td></tr></tbody></table><p>举例：</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
  ADDTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  SUBTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  SUBTIME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;1:1:3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  DATEDIFF<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;2021-10-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
  TIMEDIFF<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;2021-10-25 22:10:10&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  FROM_DAYS<span class="token punctuation">(</span><span class="token number">366</span><span class="token punctuation">)</span><span class="token punctuation">,</span>TO_DAYS<span class="token punctuation">(</span><span class="token string">&#39;0000-12-25&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
  LAST_DAY<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  MAKEDATE<span class="token punctuation">(</span><span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  MAKETIME<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  PERIOD_ADD<span class="token punctuation">(</span><span class="token number">20200101010101</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> 
<span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
</code></pre></div><h3 id="日期的格式化和解析" tabindex="-1"><a class="header-anchor" href="#日期的格式化和解析" aria-hidden="true">#</a> 日期的格式化和解析</h3><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>date_format(date,fmt)</td><td>将日期转化成字符串</td></tr><tr><td>time_format(time,fmt)</td><td>将时间转换成字符串</td></tr><tr><td>get_format(date_type,format_type)</td><td>返回不同标准的日期显示格式</td></tr><tr><td>str_to_date(str,fmt)</td><td>将字符串转化成日期</td></tr></tbody></table><p>上述 <code>非get_format</code> 函数中 fmt 参数常用的格式符：</p><table><thead><tr><th>格式符</th><th>说明</th><th>格式符</th><th>说明</th></tr></thead><tbody><tr><td>%Y</td><td>4位数字年份</td><td>%y</td><td>两位数字年份</td></tr><tr><td>%M</td><td>月份（英文）</td><td>%m</td><td>两位数字月份（01，02，03...）</td></tr><tr><td>%b</td><td>缩写的月名（jan,Feb）</td><td>%c</td><td>数字月份（1，2，3...）</td></tr><tr><td>%D</td><td>日（英文形式 1st,2nd,3rd）</td><td>%d</td><td>日（01,02,03...）</td></tr><tr><td>%e</td><td>日（1,2,3,4,5...）</td><td></td><td></td></tr><tr><td>%H</td><td>小时（24小时制）</td><td>%h</td><td>小时（12小时制）</td></tr><tr><td>%i</td><td>分钟（01，02，03）</td><td>%s</td><td>秒（00,01,…59）</td></tr><tr><td>%W</td><td>一周中的星期名称（Sunday...）</td><td>%a</td><td>一周中的星期缩写（Sun,Mon...）</td></tr><tr><td>%w</td><td>数字表示每周的第几天（0表示周日）</td><td></td><td></td></tr><tr><td>%j</td><td>表示一年中的第几天（001，002...）</td><td>%U</td><td>以数字表示年中的第几周，（1,2,3。。）其中Sunday为周中第一天</td></tr></tbody></table><p>GET_FORMAT函数中date_type和format_type参数取值如下：</p><p><img src="http://img.zxqs.top/20220922142249.png" alt="GET_FORMAT"></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;%H:%i:%s&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> TIME_FORMAT<span class="token punctuation">(</span>CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;%H:%i:%s&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;09/01/2009&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;%m/%d/%Y&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> STR_TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;2014-04-22 15:47:06&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;%Y-%m-%d %H:%i:%s&#39;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span>
<span class="token comment">-- 美国标准</span>
<span class="token keyword">SELECT</span> GET_FORMAT<span class="token punctuation">(</span><span class="token keyword">DATE</span><span class="token punctuation">,</span> <span class="token string">&#39;USA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="流程处理函数" tabindex="-1"><a class="header-anchor" href="#流程处理函数" aria-hidden="true">#</a> 流程处理函数</h2><p>流程处理函数可以根据不同的条件，执行不同的处理流程，可以在SQL语句中实现不同的条件选择。</p><p>MySQL 中的流程处理函数主要包括 if()，ifnull，和 case() 函数。</p><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>if(value,value1,value2)</td><td>如果value 的值为 true，返回 value1，否则返回 value2</td></tr><tr><td>ifnull(value1，,value2)</td><td>如果 value1 不为 null，返回value1，否则返回value2</td></tr><tr><td>CASE WHEN 条件1 THEN 结果1 WHEN 条件2 THEN 结果2 .... [ELSE resultn] END</td><td>相当于Java的if...else if...else...</td></tr><tr><td>CASE expr WHEN 常量值1 THEN 值1 WHEN 常量值1 THEN 值1 .... [ELSE 值n] END</td><td>相当于Java的switch...case...</td></tr></tbody></table><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- IF(VALUE,VALUE1,VALUE2)</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>salary<span class="token punctuation">,</span><span class="token keyword">IF</span><span class="token punctuation">(</span>salary <span class="token operator">&gt;=</span> <span class="token number">6000</span><span class="token punctuation">,</span><span class="token string">&#39;高工资&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;低工资&#39;</span><span class="token punctuation">)</span> <span class="token string">&quot;details&quot;</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>

<span class="token comment">-- ifnull(value1，,value2):看做是if(value,value1,value2)的特殊情况</span>
<span class="token keyword">SELECT</span> last_name<span class="token punctuation">,</span>commission_pct<span class="token punctuation">,</span>IFNULL<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token string">&quot;details&quot;</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><p><code>case when</code> 有两种方式：</p><ol><li>简单 case 函数</li></ol><div class="language-text ext-text"><pre class="language-text"><code>   case 列名
   when 条件值1 then 选项值1
   when 条件值2 then 选项值2
   ......
   else 默认值
   end
</code></pre></div><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_id<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
<span class="token keyword">CASE</span> department_id 
  <span class="token keyword">WHEN</span> <span class="token number">10</span> <span class="token keyword">THEN</span> salary <span class="token operator">*</span> <span class="token number">1.1</span>
  <span class="token keyword">WHEN</span> <span class="token number">20</span> <span class="token keyword">THEN</span> salary <span class="token operator">*</span> <span class="token number">1.2</span>
  <span class="token keyword">WHEN</span> <span class="token number">30</span> <span class="token keyword">THEN</span> salary <span class="token operator">*</span> <span class="token number">1.3</span>
  <span class="token keyword">ELSE</span> salary <span class="token operator">*</span> <span class="token number">1.4</span> <span class="token keyword">END</span> <span class="token string">&quot;details&quot;</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>case 搜索函数</li></ol><div class="language-text ext-text"><pre class="language-text"><code>case
when 列明=条件值1 then 选项值1
when 列明=条件值2 then 选项值2
......
else 默认值
end
</code></pre></div><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> employee_id<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>department_id<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
<span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> department_id <span class="token operator">=</span> <span class="token number">10</span> <span class="token keyword">THEN</span> salary <span class="token operator">*</span> <span class="token number">1.1</span>
  <span class="token keyword">WHEN</span> department_id <span class="token operator">=</span> <span class="token number">20</span> <span class="token keyword">THEN</span> salary <span class="token operator">*</span> <span class="token number">1.2</span>
  <span class="token keyword">WHEN</span> department_id <span class="token operator">=</span> <span class="token number">30</span> <span class="token keyword">THEN</span> salary <span class="token operator">*</span> <span class="token number">1.3</span>
  <span class="token keyword">ELSE</span> salary <span class="token operator">*</span> <span class="token number">1.4</span> 
  <span class="token keyword">END</span> <span class="token string">&quot;details&quot;</span>
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre></div><div class="custom-container tip"><p class="custom-container-title">注意</p><p>简单Case函数的写法相对比较简洁，但是和Case搜索函数相比，功能方面会有些限制，比如写判断式。</p><p>还有一个需要注意的问题，Case函数只返回第一个符合条件的 值，剩下的Case部分将会被自动忽略。</p></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/ysmc-slg/ysmcBlog/edit/master/docs/database/mysql/function.md" rel="noopener noreferrer" target="_blank" aria-label="编辑文档！"><!--[--><!--]--> 编辑文档！ <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><span class="meta-item-info">2022/10/9 09:53:19</span></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 494786209@qq.com">ysmc</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/database/mysql/limit.html" class="nav-link" aria-label="分页"><!--[--><!--]--> 分页 <!--[--><!--]--></a></span><span class="next"><a href="/database/mysql/aggregateFunction.html" class="nav-link" aria-label="聚合函数"><!--[--><!--]--> 聚合函数 <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.d3ff5e53.js" defer></script>
  </body>
</html>
